(()=>{"use strict";var e,s,t,l,r,a,i={6285:function(e,s,t){var l=t(4848),r=t(6540),a=t(5338),i=t(1186),n=t(3049);let c=e=>{let{...s}=e,{theme:t="system"}=(0,i.D)();return(0,l.jsx)(n.l$,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...s})};var o=t(2232),d=t(9836),m=t(2544);function x(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,m.QP)((0,d.$)(s))}let h=o.Kq;o.bL,o.l9,r.forwardRef((e,s)=>{let{className:t,sideOffset:r=4,...a}=e;return(0,l.jsx)(o.UC,{ref:s,sideOffset:r,className:x("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...a})}).displayName=o.UC.displayName;var u=t(6417),p=t(4281),g=t(6700);let j=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)("div",{ref:s,className:x("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});j.displayName="Card";let y=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)("div",{ref:s,className:x("flex flex-col space-y-1.5 p-6",t),...r})});y.displayName="CardHeader";let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)("div",{ref:s,className:x("text-2xl font-semibold leading-none tracking-tight",t),...r})});f.displayName="CardTitle",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)("div",{ref:s,className:x("text-sm text-muted-foreground",t),...r})}).displayName="CardDescription";let b=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)("div",{ref:s,className:x("p-6 pt-0",t),...r})});b.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)("div",{ref:s,className:x("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";var N=t(7850),v=t(3300);let w=(0,v.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_=r.forwardRef((e,s)=>{let{className:t,variant:r,size:a,asChild:i=!1,...n}=e,c=i?N.DX:"button";return(0,l.jsx)(c,{className:x(w({variant:r,size:a,className:t})),ref:s,...n})});_.displayName="Button";let k=(0,v.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function S(e){let{className:s,variant:t,...r}=e;return(0,l.jsx)("div",{className:x(k({variant:t}),s),...r})}var q=t(7073),O=t(665),A=t(827),C=t(85),I=t(3345),R=t(3893),$=t(6858),E=t(8635),z=t(7792),T=t(7235),D=t(2864),M=t(2492),F=t(4471);function L(){return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-psychology-calm via-white to-psychology-warm",children:[(0,l.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,l.jsx)("div",{className:"absolute top-20 left-20 w-8 h-8 bg-psychology-primary/10 rounded-full"}),(0,l.jsx)("div",{className:"absolute top-40 right-32 w-12 h-12 bg-psychology-accent/10 rounded-full"}),(0,l.jsx)("div",{className:"absolute bottom-40 left-1/4 w-6 h-6 bg-psychology-secondary/10 rounded-full"}),(0,l.jsx)("div",{className:"absolute bottom-32 right-20 w-10 h-10 bg-psychology-primary/5 rounded-full"})]}),(0,l.jsxs)("div",{className:"relative z-10",children:[(0,l.jsx)("nav",{className:"container mx-auto px-4 py-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-psychology-primary rounded-lg flex items-center justify-center",children:(0,l.jsx)(q.A,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"font-bold text-lg text-psychology-primary",children:"SRI Calculator"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"性压抑指数计算器"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)(_,{variant:"ghost",size:"sm",asChild:!0,children:(0,l.jsxs)(g.N_,{to:"/guide",children:[(0,l.jsx)(O.A,{className:"w-4 h-4 mr-2"}),"使用指南"]})}),(0,l.jsx)(_,{variant:"ghost",size:"sm",asChild:!0,children:(0,l.jsxs)(g.N_,{to:"/science",children:[(0,l.jsx)(A.A,{className:"w-4 h-4 mr-2"}),"科学依据"]})}),(0,l.jsx)(_,{variant:"ghost",size:"sm",asChild:!0,children:(0,l.jsxs)(g.N_,{to:"/history",children:[(0,l.jsx)(C.A,{className:"w-4 h-4 mr-2"}),"历史记录"]})})]})]})}),(0,l.jsxs)("main",{className:"container mx-auto px-4 pb-20",children:[(0,l.jsx)("section",{className:"text-center mb-20",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,l.jsxs)(S,{className:"mb-6 bg-psychology-primary/10 text-psychology-primary border-psychology-primary/20",children:[(0,l.jsx)(I.A,{className:"w-4 h-4 mr-2"}),"基于科学研究的心理测评工具"]}),(0,l.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-psychology-primary via-psychology-secondary to-psychology-accent bg-clip-text text-transparent",children:"性压抑指数计算器"}),(0,l.jsx)("p",{className:"text-xl text-muted-foreground mb-8 leading-relaxed max-w-3xl mx-auto",children:"专业的性心理健康自我评估工具，基于多个经过验证的心理测量量表， 帮助您科学地了解自己的性心理特征，促进性健康和亲密关系的发展。"}),(0,l.jsx)("div",{className:"bg-psychology-primary/5 border border-psychology-primary/20 rounded-xl p-6 mb-8 max-w-3xl mx-auto",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-psychology-primary/10 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,l.jsx)(R.A,{className:"w-5 h-5 text-psychology-primary"})}),(0,l.jsxs)("div",{className:"text-left",children:[(0,l.jsx)("h3",{className:"font-semibold text-psychology-primary mb-2",children:"智能适应性评估"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"系统会根据您的年龄段和个人背景自动选择最适合的量表组合，为14-17岁青少年提供专门的保护机制， 为无性经验用户提供文化敏感的评估内容，确保每个人都能获得准确和适宜的评估体验。"})]})]})}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12",children:[(0,l.jsx)(g.N_,{to:"/assessment?type=quick",children:(0,l.jsxs)(_,{size:"lg",className:"bg-psychology-primary hover:bg-psychology-primary/90 text-white px-8 py-4 text-lg",children:[(0,l.jsx)($.A,{className:"w-5 h-5 mr-2"}),"开始快速测评",(0,l.jsx)(E.A,{className:"w-5 h-5 ml-2"})]})}),(0,l.jsx)(g.N_,{to:"/assessment?type=full",children:(0,l.jsxs)(_,{size:"lg",variant:"outline",className:"border-psychology-primary text-psychology-primary hover:bg-psychology-primary/5 px-8 py-4 text-lg",children:[(0,l.jsx)(z.A,{className:"w-5 h-5 mr-2"}),"完整版测评"]})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-4xl mx-auto",children:[(0,l.jsxs)("div",{className:"text-center p-4 bg-white/80 backdrop-blur-sm rounded-xl border border-psychology-primary/10",children:[(0,l.jsx)(T.A,{className:"w-8 h-8 text-psychology-primary mx-auto mb-2"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-psychology-primary",children:"8-15"}),(0,l.jsx)("div",{className:"text-sm text-muted-foreground",children:"分钟快测"})]}),(0,l.jsxs)("div",{className:"text-center p-4 bg-white/80 backdrop-blur-sm rounded-xl border border-psychology-secondary/10",children:[(0,l.jsx)(D.A,{className:"w-8 h-8 text-psychology-secondary mx-auto mb-2"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-psychology-secondary",children:"4"}),(0,l.jsx)("div",{className:"text-sm text-muted-foreground",children:"核心维度"})]}),(0,l.jsxs)("div",{className:"text-center p-4 bg-white/80 backdrop-blur-sm rounded-xl border border-psychology-accent/10",children:[(0,l.jsx)(M.A,{className:"w-8 h-8 text-psychology-accent mx-auto mb-2"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-psychology-accent",children:"100%"}),(0,l.jsx)("div",{className:"text-sm text-muted-foreground",children:"隐私保护"})]}),(0,l.jsxs)("div",{className:"text-center p-4 bg-white/80 backdrop-blur-sm rounded-xl border border-psychology-success/10",children:[(0,l.jsx)(R.A,{className:"w-8 h-8 text-psychology-success mx-auto mb-2"}),(0,l.jsx)("div",{className:"text-2xl font-bold text-psychology-success",children:"科学"}),(0,l.jsx)("div",{className:"text-sm text-muted-foreground",children:"研究验证"})]})]})]})}),(0,l.jsxs)("section",{className:"mb-20",children:[(0,l.jsxs)("div",{className:"text-center mb-12",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"选择适合您的测评版本"}),(0,l.jsx)("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"我们提供两种测评版本，您可以根据可用时间和详细程度需求选择"})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[(0,l.jsxs)(j,{className:"sri-card relative overflow-hidden group hover:shadow-xl transition-all duration-300",children:[(0,l.jsx)("div",{className:"absolute top-4 right-4",children:(0,l.jsx)(S,{className:"bg-psychology-primary text-white",children:"推荐"})}),(0,l.jsx)(y,{children:(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-psychology-primary/10 rounded-lg flex items-center justify-center",children:(0,l.jsx)($.A,{className:"w-6 h-6 text-psychology-primary"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{className:"text-xl text-psychology-primary",children:"快速测评版"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"适合初次使用和快速了解"})]})]})}),(0,l.jsxs)(b,{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F.A,{className:"w-5 h-5 text-green-500"}),(0,l.jsx)("span",{className:"text-sm",children:"SIS/SES-SF 14项量表"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F.A,{className:"w-5 h-5 text-green-500"}),(0,l.jsx)("span",{className:"text-sm",children:"Mosher性内疚10项简版"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F.A,{className:"w-5 h-5 text-green-500"}),(0,l.jsx)("span",{className:"text-sm",children:"KISS-9性羞耻量表"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F.A,{className:"w-5 h-5 text-green-500"}),(0,l.jsx)("span",{className:"text-sm",children:"SOS性观感筛查版"})]})]}),(0,l.jsxs)("div",{className:"bg-psychology-primary/5 p-4 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium",children:"预计用时"}),(0,l.jsx)("span",{className:"text-sm text-psychology-primary font-bold",children:"8-15 分钟"})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-sm font-medium",children:"题目数量"}),(0,l.jsx)("span",{className:"text-sm text-psychology-primary font-bold",children:"33-42 题"})]})]}),(0,l.jsx)(g.N_,{to:"/assessment?type=quick",className:"block",children:(0,l.jsxs)(_,{className:"w-full bg-psychology-primary hover:bg-psychology-primary/90 text-white",children:["开始快速测评",(0,l.jsx)(E.A,{className:"w-4 h-4 ml-2"})]})})]})]}),(0,l.jsxs)(j,{className:"sri-card relative overflow-hidden group hover:shadow-xl transition-all duration-300",children:[(0,l.jsx)(y,{children:(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-psychology-secondary/10 rounded-lg flex items-center justify-center",children:(0,l.jsx)(z.A,{className:"w-6 h-6 text-psychology-secondary"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{className:"text-xl text-psychology-secondary",children:"完整测评版"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"更全面深入的专业分析"})]})]})}),(0,l.jsxs)(b,{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F.A,{className:"w-5 h-5 text-green-500"}),(0,l.jsx)("span",{className:"text-sm",children:"完整版SIS/SES量表"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F.A,{className:"w-5 h-5 text-green-500"}),(0,l.jsx)("span",{className:"text-sm",children:"完整Mosher性内疚量表"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F.A,{className:"w-5 h-5 text-green-500"}),(0,l.jsx)("span",{className:"text-sm",children:"KISS-9 + 额外维度分析"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F.A,{className:"w-5 h-5 text-green-500"}),(0,l.jsx)("span",{className:"text-sm",children:"BSAS性态度量表校标"})]})]}),(0,l.jsxs)("div",{className:"bg-psychology-secondary/5 p-4 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium",children:"预计用时"}),(0,l.jsx)("span",{className:"text-sm text-psychology-secondary font-bold",children:"25-40 分钟"})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-sm font-medium",children:"题目数量"}),(0,l.jsx)("span",{className:"text-sm text-psychology-secondary font-bold",children:"58-126 题"})]})]}),(0,l.jsx)(g.N_,{to:"/assessment?type=full",className:"block",children:(0,l.jsxs)(_,{variant:"outline",className:"w-full border-psychology-secondary text-psychology-secondary hover:bg-psychology-secondary/5",children:["开始完整测评",(0,l.jsx)(E.A,{className:"w-4 h-4 ml-2"})]})})]})]})]})]}),(0,l.jsxs)("section",{className:"mb-20",children:[(0,l.jsxs)("div",{className:"text-center mb-12",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"科学可靠的评估基础"}),(0,l.jsx)("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"基于国际认可的心理测量学量表，经过严格验证的科学工具"})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,l.jsx)(j,{className:"sri-card text-center",children:(0,l.jsxs)(b,{className:"p-6",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)(D.A,{className:"w-8 h-8 text-blue-600"})}),(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"双控制模型"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"基于Janssen等人的SIS/SES双控制模型，测量性抑制和性兴奋系统"})]})}),(0,l.jsx)(j,{className:"sri-card text-center",children:(0,l.jsxs)(b,{className:"p-6",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)(I.A,{className:"w-8 h-8 text-purple-600"})}),(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"性内疚测量"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"采用Mosher性内疚量表，评估性相关的内疚感和道德负担"})]})}),(0,l.jsx)(j,{className:"sri-card text-center",children:(0,l.jsxs)(b,{className:"p-6",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)(M.A,{className:"w-8 h-8 text-orange-600"})}),(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"性羞耻评估"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"使用KISS-9量表测量性相关的羞耻体验和自我接纳"})]})}),(0,l.jsx)(j,{className:"sri-card text-center",children:(0,l.jsxs)(b,{className:"p-6",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)(q.A,{className:"w-8 h-8 text-green-600"})}),(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"性观感调查"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"SOS量表评估对性刺激的情绪取向和接近回避倾向"})]})})]})]}),(0,l.jsx)("section",{className:"mb-20",children:(0,l.jsx)(j,{className:"sri-card border-psychology-primary/20 bg-psychology-primary/5",children:(0,l.jsxs)(b,{className:"p-8 text-center",children:[(0,l.jsx)(M.A,{className:"w-16 h-16 text-psychology-primary mx-auto mb-6"}),(0,l.jsx)("h2",{className:"text-2xl font-bold text-psychology-primary mb-4",children:"您的隐私是我们的首要关注"}),(0,l.jsx)("p",{className:"text-lg text-muted-foreground mb-6 max-w-3xl mx-auto",children:"所有评估数据仅在您的设备本地处理和存储，不会上传到任何服务器。 您拥有完全的数据控制权，可以随时删除或导出您的评估历史。"}),(0,l.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 max-w-2xl mx-auto",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F.A,{className:"w-5 h-5 text-green-500"}),(0,l.jsx)("span",{className:"text-sm",children:"本地数据存储"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F.A,{className:"w-5 h-5 text-green-500"}),(0,l.jsx)("span",{className:"text-sm",children:"完全匿名化"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F.A,{className:"w-5 h-5 text-green-500"}),(0,l.jsx)("span",{className:"text-sm",children:"可随时删除"})]})]})]})})}),(0,l.jsx)("section",{className:"text-center",children:(0,l.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,l.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"准备好开始您的性心理健康之旅了吗？"}),(0,l.jsx)("p",{className:"text-lg text-muted-foreground mb-8",children:"通过科学的自我评估，更好地了解自己，促进健康的性心理发展和亲密关系。"}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,l.jsx)(g.N_,{to:"/assessment?type=quick",children:(0,l.jsxs)(_,{size:"lg",className:"bg-psychology-primary hover:bg-psychology-primary/90 text-white px-8 py-4",children:[(0,l.jsx)($.A,{className:"w-5 h-5 mr-2"}),"立即开始测评"]})}),(0,l.jsx)(_,{size:"lg",variant:"outline",asChild:!0,className:"border-psychology-primary text-psychology-primary hover:bg-psychology-primary/5 px-8 py-4",children:(0,l.jsxs)(g.N_,{to:"/guide",children:[(0,l.jsx)(O.A,{className:"w-5 h-5 mr-2"}),"了解更多信息"]})})]})]})})]}),(0,l.jsx)("footer",{className:"border-t border-muted bg-white/50 backdrop-blur-sm",children:(0,l.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,l.jsxs)("div",{className:"grid md:grid-cols-4 gap-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,l.jsx)(q.A,{className:"w-6 h-6 text-psychology-primary"}),(0,l.jsx)("span",{className:"font-bold text-psychology-primary",children:"SRI Calculator"})]}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"基于科学研究的性压抑指数计算器，帮助您更好地了解自己的性心理健康。"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-3",children:"评估工具"}),(0,l.jsxs)("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,l.jsx)("li",{children:(0,l.jsx)(g.N_,{to:"/assessment?type=quick",className:"hover:text-psychology-primary",children:"快速测评"})}),(0,l.jsx)("li",{children:(0,l.jsx)(g.N_,{to:"/assessment?type=full",className:"hover:text-psychology-primary",children:"完整测评"})}),(0,l.jsx)("li",{children:(0,l.jsx)(g.N_,{to:"/history",className:"hover:text-psychology-primary",children:"历史记录"})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-3",children:"资源"}),(0,l.jsxs)("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,l.jsx)("li",{children:(0,l.jsx)(g.N_,{to:"/guide",className:"hover:text-psychology-primary",children:"使用指南"})}),(0,l.jsx)("li",{children:(0,l.jsx)(g.N_,{to:"/science",className:"hover:text-psychology-primary",children:"科学依据"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"#",className:"hover:text-psychology-primary",children:"隐私政策"})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-3",children:"支持"}),(0,l.jsxs)("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"#",className:"hover:text-psychology-primary",children:"常见问题"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"#",className:"hover:text-psychology-primary",children:"专业咨询"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"#",className:"hover:text-psychology-primary",children:"危机资源"})})]})]})]}),(0,l.jsx)("div",{className:"border-t border-muted mt-8 pt-8 text-center text-sm text-muted-foreground",children:(0,l.jsx)("p",{children:"\xa9 2024 性压抑指数计算器. 仅供教育和自我了解使用，不能替代专业心理健康服务。"})})]})})]})]})}var U=t(6901);let J=r.forwardRef((e,s)=>{let{className:t,value:r,...a}=e;return(0,l.jsx)(U.bL,{ref:s,className:x("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...a,children:(0,l.jsx)(U.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})})});J.displayName=U.bL.displayName;var P=t(1805),V=t(232),B=t(418);let W={"very-low":{min:0,max:20,label:"很低（较少压抑）",color:"psychology-success"},low:{min:20,max:40,label:"偏低",color:"green-600"},moderate:{min:40,max:60,label:"中等",color:"yellow-600"},high:{min:60,max:80,label:"偏高",color:"psychology-warning"},"very-high":{min:80,max:100,label:"很高",color:"psychology-danger"}},G={STRONGLY_DISAGREE:{value:1,label:"非常不同意"},DISAGREE:{value:2,label:"不同意"},NEUTRAL:{value:3,label:"中性"},AGREE:{value:4,label:"同意"},STRONGLY_AGREE:{value:5,label:"非常同意"}},K={NEVER:{value:1,label:"从不"},RARELY:{value:2,label:"很少"},SOMETIMES:{value:3,label:"有时"},OFTEN:{value:4,label:"经常"},ALWAYS:{value:5,label:"总是"}},Q={id:"teen_sexual_attitudes",name:"青少年性态度量表",description:"适用于青少年的性态度和性认知评估",questions:[{id:"tsa_1",text:"我对性教育内容感到困惑",scale:"teen_sexual_attitudes",type:"likert",options:Object.values(G),required:!0},{id:"tsa_2",text:"我觉得谈论性话题是尴尬的",scale:"teen_sexual_attitudes",type:"likert",options:Object.values(G),required:!0},{id:"tsa_3",text:"我认为了解性知识是重要的",scale:"teen_sexual_attitudes",type:"likert",options:Object.values(G),required:!0,reverse:!0},{id:"tsa_4",text:"我对自己的身体变化感到不安",scale:"teen_sexual_attitudes",type:"likert",options:Object.values(G),required:!0},{id:"tsa_5",text:"我担心别人会评判我的性想法",scale:"teen_sexual_attitudes",type:"likert",options:Object.values(G),required:!0},{id:"tsa_6",text:"我觉得性冲动是不好的",scale:"teen_sexual_attitudes",type:"likert",options:Object.values(G),required:!0},{id:"tsa_7",text:"我认为青少年不应该有性想法",scale:"teen_sexual_attitudes",type:"likert",options:Object.values(G),required:!0},{id:"tsa_8",text:"我对媒体中的性内容感到不适",scale:"teen_sexual_attitudes",type:"likert",options:Object.values(G),required:!0},{id:"tsa_9",text:"我觉得性教育应该在家庭中进行",scale:"teen_sexual_attitudes",type:"likert",options:Object.values(G),required:!0},{id:"tsa_10",text:"我为自己的性好奇心感到羞耻",scale:"teen_sexual_attitudes",type:"likert",options:Object.values(G),required:!0}],scoring:{type:"sum",range:[10,50]}},Y={id:"sexual_cognition",name:"性认知量表",description:"测量对性的认知态度和心理准备度",questions:[{id:"sc_1",text:"我对性这个话题感到紧张",scale:"sexual_cognition",type:"likert",options:Object.values(G),required:!0},{id:"sc_2",text:"我觉得性是自然而美好的",scale:"sexual_cognition",type:"likert",options:Object.values(G),required:!0,reverse:!0},{id:"sc_3",text:"我担心未来的性经历",scale:"sexual_cognition",type:"likert",options:Object.values(G),required:!0},{id:"sc_4",text:"我认为性只有在特定条件下才合适",scale:"sexual_cognition",type:"likert",options:Object.values(G),required:!0},{id:"sc_5",text:"我对性知识的了解感到不够",scale:"sexual_cognition",type:"likert",options:Object.values(G),required:!0},{id:"sc_6",text:"我觉得性幻想是不道德的",scale:"sexual_cognition",type:"likert",options:Object.values(G),required:!0},{id:"sc_7",text:"我认为性应该是爱情的表达",scale:"sexual_cognition",type:"likert",options:Object.values(G),required:!0},{id:"sc_8",text:"我对自己的性身体感到羞耻",scale:"sexual_cognition",type:"likert",options:Object.values(G),required:!0},{id:"sc_9",text:"我认为讨论性话题是重要的",scale:"sexual_cognition",type:"likert",options:Object.values(G),required:!0,reverse:!0},{id:"sc_10",text:"我担心别人知道我的性想法",scale:"sexual_cognition",type:"likert",options:Object.values(G),required:!0}],scoring:{type:"sum",range:[10,50]}},H={id:"sis_ses_adapted",name:"SIS/SES适应版量表",description:"适用于无性经验用户的性抑制/兴奋倾向量表",questions:[{id:"sisa_1",text:"当我看到有吸引力的人时，我很容易产生浪漫想法",scale:"sis_ses_adapted",type:"likert",options:Object.values(G),required:!0},{id:"sisa_2",text:"浪漫的画面或故事很容易让我产生情感反应",scale:"sis_ses_adapted",type:"likert",options:Object.values(G),required:!0},{id:"sisa_3",text:"我很容易被浪漫情境所打动",scale:"sis_ses_adapted",type:"likert",options:Object.values(G),required:!0},{id:"sisa_4",text:"亲密接触的想法会让我紧张",scale:"sis_ses_adapted",type:"likert",options:Object.values(G),required:!0},{id:"sisa_5",text:"我担心在亲密关系中让对方失望",scale:"sis_ses_adapted",type:"likert",options:Object.values(G),required:!0},{id:"sisa_6",text:"我觉得在亲密关系中需要很多条件才能放松",scale:"sis_ses_adapted",type:"likert",options:Object.values(G),required:!0},{id:"sisa_7",text:"如果感到有风险，我会避免亲密接触",scale:"sis_ses_adapted",type:"likert",options:Object.values(G),required:!0},{id:"sisa_8",text:"陌生或不熟悉的环境会让我难以表达亲密情感",scale:"sis_ses_adapted",type:"likert",options:Object.values(G),required:!0}],scoring:{type:"sum",range:[8,40]}},Z={id:"sis_ses_sf",name:"SIS/SES-SF 性抑制/性兴奋量表简版",description:"Janssen等人开发的双控制模型量表，测量性抑制和性兴奋系统",questions:[{id:"ses_1",text:"当我看到有吸引力的人时，我很容易产生性幻想",scale:"sis_ses_sf",type:"likert",options:Object.values(G),required:!0},{id:"ses_2",text:"性的画面或故事很容易让我兴奋",scale:"sis_ses_sf",type:"likert",options:Object.values(G),required:!0},{id:"ses_3",text:"我很容易被性唤起",scale:"sis_ses_sf",type:"likert",options:Object.values(G),required:!0},{id:"ses_4",text:"看到裸体会让我性兴奋",scale:"sis_ses_sf",type:"likert",options:Object.values(G),required:!0},{id:"sis1_1",text:"如果我担心性表现，我就很难维持性兴奋",scale:"sis_ses_sf",type:"likert",options:Object.values(G),required:!0},{id:"sis1_2",text:"除非我确信不会让伴侣失望，否则我很难放松享受性生活",scale:"sis_ses_sf",type:"likert",options:Object.values(G),required:!0},{id:"sis1_3",text:"当我想到可能无法满足伴侣时，我会失去性兴趣",scale:"sis_ses_sf",type:"likert",options:Object.values(G),required:!0},{id:"sis1_4",text:"如果我担心自己的性表现，我就很难专注于性快感",scale:"sis_ses_sf",type:"likert",options:Object.values(G),required:!0},{id:"sis1_5",text:"性活动中的分心想法会让我失去性兴奋",scale:"sis_ses_sf",type:"likert",options:Object.values(G),required:!0},{id:"sis2_1",text:"如果我认为有被发现的风险，我不太可能寻求性活动",scale:"sis_ses_sf",type:"likert",options:Object.values(G),required:!0},{id:"sis2_2",text:"担心性传播疾病会降低我的性兴趣",scale:"sis_ses_sf",type:"likert",options:Object.values(G),required:!0},{id:"sis2_3",text:"如果存在风险，我很难保持性兴奋",scale:"sis_ses_sf",type:"likert",options:Object.values(G),required:!0},{id:"sis2_4",text:"担心怀孕会影响我的性兴趣",scale:"sis_ses_sf",type:"likert",options:Object.values(G),required:!0},{id:"sis2_5",text:"陌生或不熟悉的环境会让我难以性兴奋",scale:"sis_ses_sf",type:"likert",options:Object.values(G),required:!0}],scoring:{type:"sum",range:[14,70]}},X={id:"mosher_guilt",name:"Mosher性内疚量表",description:"Mosher开发的性内疚量表，测量性相关的内疚感和道德负担",questions:[{id:"mg_1",text:"性是某种肮脏的东西",scale:"mosher_guilt",type:"likert",options:Object.values(G),required:!0},{id:"mg_2",text:"自慰是有害的",scale:"mosher_guilt",type:"likert",options:Object.values(G),required:!0},{id:"mg_3",text:"只有在婚姻中性行为才是道德的",scale:"mosher_guilt",type:"likert",options:Object.values(G),required:!0},{id:"mg_4",text:"有性欲望让我感到内疚",scale:"mosher_guilt",type:"likert",options:Object.values(G),required:!0},{id:"mg_5",text:"性幻想是错误的",scale:"mosher_guilt",type:"likert",options:Object.values(G),required:!0},{id:"mg_6",text:"我因自己的性想法而感到羞耻",scale:"mosher_guilt",type:"likert",options:Object.values(G),required:!0},{id:"mg_7",text:"性是只有在特定条件下才能接受的东西",scale:"mosher_guilt",type:"likert",options:Object.values(G),required:!0},{id:"mg_8",text:"我担心我的性行为在道德上是错误的",scale:"mosher_guilt",type:"likert",options:Object.values(G),required:!0},{id:"mg_9",text:"享受性快感让我感到内疚",scale:"mosher_guilt",type:"likert",options:Object.values(G),required:!0},{id:"mg_10",text:"性冲动是需要控制的",scale:"mosher_guilt",type:"likert",options:Object.values(G),required:!0}],scoring:{type:"sum",range:[10,50]}},ee={id:"kiss9_shame",name:"KISS-9性羞耻量表",description:"Kyle等人开发的性羞耻简版量表，测量性相关的羞耻体验",questions:[{id:"ks_1",text:"我对自己的性身体感到羞耻",scale:"kiss9_shame",type:"likert",options:Object.values(K),required:!0},{id:"ks_2",text:"我为自己的性想法感到羞耻",scale:"kiss9_shame",type:"likert",options:Object.values(K),required:!0},{id:"ks_3",text:"我为自己的性欲望感到羞耻",scale:"kiss9_shame",type:"likert",options:Object.values(K),required:!0},{id:"ks_4",text:"我为自己的性行为感到羞耻",scale:"kiss9_shame",type:"likert",options:Object.values(K),required:!0},{id:"ks_5",text:"我为自己的性感受感到羞耻",scale:"kiss9_shame",type:"likert",options:Object.values(K),required:!0},{id:"ks_6",text:"我觉得我的性本质在某种程度上是有缺陷的",scale:"kiss9_shame",type:"likert",options:Object.values(K),required:!0},{id:"ks_7",text:"我希望我能改变自己的性身份",scale:"kiss9_shame",type:"likert",options:Object.values(K),required:!0},{id:"ks_8",text:"我觉得作为一个性存在，我让重要的人失望了",scale:"kiss9_shame",type:"likert",options:Object.values(K),required:!0},{id:"ks_9",text:"我觉得我的性方面不如其他人",scale:"kiss9_shame",type:"likert",options:Object.values(K),required:!0}],scoring:{type:"sum",range:[9,45]}},es={id:"sos_screening",name:"SOS性观感筛查",description:"性观感调查的简化筛查版本，测量对性刺激的情绪取向",questions:[{id:"sos_1",text:"我对色情内容感到不舒服",scale:"sos_screening",type:"likert",options:Object.values(G),required:!0},{id:"sos_2",text:"性相关的话题让我感到尴尬",scale:"sos_screening",type:"likert",options:Object.values(G),required:!0},{id:"sos_3",text:"我倾向于避免性暗示的内容",scale:"sos_screening",type:"likert",options:Object.values(G),required:!0},{id:"sos_4",text:"看到性相关的图像会让我感到不安",scale:"sos_screening",type:"likert",options:Object.values(G),required:!0},{id:"sos_5",text:"我觉得公开讨论性是不合适的",scale:"sos_screening",type:"likert",options:Object.values(G),required:!0}],scoring:{type:"sum",range:[5,25]}},et={id:"sis_ses_full",name:"SIS/SES 性抑制/性兴奋量表完整版",description:"Janssen等人开发的完整版双控制模型量表，全面测量性抑制和性兴奋系统",questions:[...Z.questions.filter(e=>e.id.startsWith("ses_")),{id:"ses_5",text:"当我幻想与某人发生性关系时，我很容易被唤起",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"ses_6",text:"性兴奋来得快去得也快",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"ses_7",text:"当某人性感地触摸我时，我很容易被唤起",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"ses_8",text:"某些气味会让我想起性并让我兴奋",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"ses_9",text:"我很容易对不熟悉的人产生性兴趣",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"ses_10",text:"当我听到别人谈论性时，我很容易被唤起",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"ses_11",text:"音乐可以让我想起性并让我兴奋",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"ses_12",text:"很多事情都能让我想起性",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"ses_13",text:"我觉得自己性欲很强",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"ses_14",text:"当我看电影中的浪漫场景时，我想到性",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"ses_15",text:"我容易被多种类型的人吸引",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"ses_16",text:"我经常发现自己在想性",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},...Z.questions.filter(e=>e.id.startsWith("sis1_")),{id:"sis1_6",text:"我需要我的生殖器被伴侣完全接受，否则我无法保持兴奋",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"sis1_7",text:"除非我确信伴侣对我有性吸引力，否则我很难专注于自己的快感",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"sis1_8",text:"如果我担心我的性表现会如何被评判，我会失去性兴奋",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"sis1_9",text:"除非我觉得自己在性方面有能力，否则我无法享受性",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"sis1_10",text:"我无法专注于性快感，因为我担心我的身体外观",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"sis1_11",text:"当我担心是否会达到高潮时，我很难保持性兴奋",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"sis1_12",text:"如果我觉得我被迫发生性关系，我会失去性兴趣",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"sis1_13",text:"除非感觉安全，否则我无法被性唤起",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"sis1_14",text:"如果我不确定我能满足伴侣，我很难变得兴奋",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},...Z.questions.filter(e=>e.id.startsWith("sis2_")),{id:"sis2_6",text:"如果有人可能听到我们，我不太可能被性唤起",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"sis2_7",text:"当我第一次与某人发生性关系时，我很难被唤起",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"sis2_8",text:"如果我无法专注于正在发生的事情，我会失去性兴奋",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"sis2_9",text:"除非我的伴侣似乎真正想要性，否则我很难保持兴奋",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"sis2_10",text:"当我觉得我的伴侣没有完全投入时，我会失去性兴趣",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"sis2_11",text:"我需要感到与伴侣的强烈情感联系才能享受性",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"sis2_12",text:"药物或酒精会让我很难被性唤起",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"sis2_13",text:"除非情绪合适，否则我无法真正专注于性快感",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"sis2_14",text:"如果我担心伴侣的感受，我很难专注于自己的快感",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0},{id:"sis2_15",text:"有时我担心性接触的意义，这会干扰我的性兴奋",scale:"sis_ses_full",type:"likert",options:Object.values(G),required:!0}],scoring:{type:"sum",range:[45,225]}},el={id:"mosher_guilt_full",name:"Mosher性内疚量表完整版",description:"Mosher开发的完整版性内疚量表，全面测量性相关的内疚感和道德负担",questions:[...X.questions,{id:"mg_11",text:"我觉得性欲望是人类低级的本能",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0},{id:"mg_12",text:"谈论性让我感到不舒服",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0},{id:"mg_13",text:"我觉得强烈的性欲是不好的",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0},{id:"mg_14",text:"我对自己过去的某些性经历感到后悔",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0},{id:"mg_15",text:"我觉得性行为应该只是为了生育",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0},{id:"mg_16",text:"我对自己的性想法感到不安",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0},{id:"mg_17",text:"我认为享受性是自私的表现",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0},{id:"mg_18",text:"我担心我的性行为会被他人判断",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0},{id:"mg_19",text:"我觉得纯洁比性经验更重要",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0},{id:"mg_20",text:"我对自己的性身体感到不适",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0},{id:"mg_21",text:"我认为性应该是神圣的，不应该随便对待",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0},{id:"mg_22",text:"我对自己的性冲动感到困扰",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0},{id:"mg_23",text:"我觉得性活动会让我变得不纯洁",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0},{id:"mg_24",text:"我担心性行为会影响我的品格",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0},{id:"mg_25",text:"我认为好人不应该有太多性想法",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0},{id:"mg_26",text:"我对自己的性历史感到羞愧",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0},{id:"mg_27",text:"我觉得性欲望会分散我对重要事情的注意力",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0},{id:"mg_28",text:"我认为控制性冲动是道德修养的体现",scale:"mosher_guilt_full",type:"likert",options:Object.values(G),required:!0}],scoring:{type:"sum",range:[28,140]}},er={id:"sos_full",name:"SOS性观感量表完整版",description:"Fisher等人开发的完整版性观感调查，全面测量对性刺激的情绪取向",questions:[...es.questions,{id:"sos_6",text:"我认为过多接触性内容对人有害",scale:"sos_full",type:"likert",options:Object.values(G),required:!0},{id:"sos_7",text:"我觉得大多数性教育材料过于露骨",scale:"sos_full",type:"likert",options:Object.values(G),required:!0},{id:"sos_8",text:"我认为性应该是私密的，不应该公开讨论",scale:"sos_full",type:"likert",options:Object.values(G),required:!0},{id:"sos_9",text:"我对媒体中的性内容感到反感",scale:"sos_full",type:"likert",options:Object.values(G),required:!0},{id:"sos_10",text:"我觉得社会对性过于开放",scale:"sos_full",type:"likert",options:Object.values(G),required:!0},{id:"sos_11",text:"我认为年轻人接触性信息太早了",scale:"sos_full",type:"likert",options:Object.values(G),required:!0},{id:"sos_12",text:"我对性俱乐部或成人娱乐场所持负面态度",scale:"sos_full",type:"likert",options:Object.values(G),required:!0},{id:"sos_13",text:"我认为性研究是不必要的",scale:"sos_full",type:"likert",options:Object.values(G),required:!0},{id:"sos_14",text:"我觉得公开展示亲密行为是不合适的",scale:"sos_full",type:"likert",options:Object.values(G),required:!0},{id:"sos_15",text:"我对性玩具或性用品感到不适",scale:"sos_full",type:"likert",options:Object.values(G),required:!0},{id:"sos_16",text:"我认为性应该是自然发生的，不需要特别关注",scale:"sos_full",type:"likert",options:Object.values(G),required:!0},{id:"sos_17",text:"我对性多样性的概念感到困扰",scale:"sos_full",type:"likert",options:Object.values(G),required:!0},{id:"sos_18",text:"我觉得性咨询或性治疗是令人尴尬的",scale:"sos_full",type:"likert",options:Object.values(G),required:!0},{id:"sos_19",text:"我认为传统的性价值观更可取",scale:"sos_full",type:"likert",options:Object.values(G),required:!0},{id:"sos_20",text:"我对现代社会的性自由持谨慎态度",scale:"sos_full",type:"likert",options:Object.values(G),required:!0},{id:"sos_21",text:"我认为过多的性信息会让人困惑",scale:"sos_full",type:"likert",options:Object.values(G),required:!0}],scoring:{type:"sum",range:[21,105]}},ea={id:"bsas_brief",name:"BSAS简版性态度量表",description:"Hendrick等人开发的性态度量表简版，测量性态度的四个维度",questions:[{id:"bsas_perm_1",text:"我不需要与某人有感情承诺就可以和他们发生性关系",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0},{id:"bsas_perm_2",text:"我觉得婚前性行为是可以接受的",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0},{id:"bsas_perm_3",text:"我认为一夜情是可以接受的",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0},{id:"bsas_perm_4",text:"我觉得有多个性伴侣是可以的",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0},{id:"bsas_perm_5",text:"我认为性应该只发生在已婚夫妇之间",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0,reverse:!0},{id:"bsas_perm_6",text:"我觉得性自由是重要的",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0},{id:"bsas_birth_1",text:"避孕是双方的责任",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0},{id:"bsas_birth_2",text:"女性应该负责避孕",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0,reverse:!0},{id:"bsas_birth_3",text:"男性应该负责避孕",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0,reverse:!0},{id:"bsas_birth_4",text:"使用避孕措施是明智的",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0},{id:"bsas_birth_5",text:"我支持计划生育",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0},{id:"bsas_birth_6",text:"性教育应该包括避孕信息",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0},{id:"bsas_comm_1",text:"谈论性是困难的",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0,reverse:!0},{id:"bsas_comm_2",text:"我觉得和伴侣讨论性是重要的",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0},{id:"bsas_comm_3",text:"我觉得表达性需求是困难的",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0,reverse:!0},{id:"bsas_comm_4",text:"我能轻松地和朋友谈论性",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0},{id:"bsas_comm_5",text:"我认为开放的性沟通是健康关系的关键",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0},{id:"bsas_inst_1",text:"性主要是为了身体快感",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0},{id:"bsas_inst_2",text:"性最重要的部分是享受",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0},{id:"bsas_inst_3",text:"性不需要爱情",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0},{id:"bsas_inst_4",text:"性可以是纯粹的身体活动",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0},{id:"bsas_inst_5",text:"性主要是为了情感联系",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0,reverse:!0},{id:"bsas_inst_6",text:"我觉得性应该总是浪漫的",scale:"bsas_brief",type:"likert",options:Object.values(G),required:!0,reverse:!0}],scoring:{type:"sum",range:[23,115]}},ei=[{id:"age",text:"您的年龄段",type:"multiple",options:[{value:0,label:"14-17岁"},{value:1,label:"18-24岁"},{value:2,label:"25-34岁"},{value:3,label:"35-44岁"},{value:4,label:"45-54岁"},{value:5,label:"55岁以上"}],required:!0},{id:"gender",text:"您的性别认同",type:"multiple",options:[{value:1,label:"男性"},{value:2,label:"女性"},{value:3,label:"非二元性别"},{value:4,label:"不愿回答"}],required:!0},{id:"relationshipStatus",text:"您目前的关系状态",type:"multiple",options:[{value:1,label:"单身"},{value:2,label:"恋爱中"},{value:3,label:"已婚/同居"},{value:4,label:"不便回答"}],required:!0},{id:"sexualActivity",text:"您的性经验状况",type:"multiple",options:[{value:0,label:"从未有过性行为"},{value:1,label:"有过性行为，但近一年内无"},{value:2,label:"很少（1-3次/年）"},{value:3,label:"偶尔（1-3次/月）"},{value:4,label:"经常（1-3次/周）"},{value:5,label:"频繁（4次/周以上）"}],required:!0},{id:"religiousCultural",text:"您的宗教/文化背景（可选）",type:"multiple",options:[{value:1,label:"无特定宗教"},{value:2,label:"基督教"},{value:3,label:"佛教"},{value:4,label:"伊斯兰教"},{value:5,label:"其他"},{value:6,label:"不愿回答"}],required:!1}],en={[Z.id]:Z,[et.id]:et,[X.id]:X,[el.id]:el,[ee.id]:ee,[es.id]:es,[er.id]:er,[ea.id]:ea,[Q.id]:Q,[Y.id]:Y,[H.id]:H};function ec(e){let s=e<0?-1:1,t=1/(1+.3275911*(e=Math.abs(e)/Math.sqrt(2)));return .5*(1+s*(1-((((1.061405429*t+-1.453152027)*t+1.421413741)*t+-.284496736)*t+.254829592)*t*Math.exp(-e*e)))}function eo(e,s,t){return 0===t?0:(e-s)/t}Z.id,X.id,ee.id,es.id,et.id,el.id,ee.id,er.id,ea.id;let ed="sri_assessment_data",em="1.0.0";function ex(){try{let e=localStorage.getItem(ed);if(!e)return{sessions:[],version:em};let s=JSON.parse(e);if(s.version!==em)return console.warn("Storage version mismatch, migrating data..."),{sessions:[],version:em};return s.sessions=s.sessions.map(e=>({...e,startTime:new Date(e.startTime),endTime:e.endTime?new Date(e.endTime):void 0,responses:e.responses.map(e=>({...e,timestamp:new Date(e.timestamp)})),results:e.results?{...e.results,calculatedAt:new Date(e.results.calculatedAt)}:void 0})),s}catch(e){return console.error("Error loading storage data:",e),{sessions:[],version:em}}}function eh(e){try{let s=JSON.stringify(e);new Blob([s]).size>5242880&&(console.warn("Storage data too large, cleaning old sessions..."),e.sessions=e.sessions.sort((e,s)=>s.startTime.getTime()-e.startTime.getTime()).slice(0,20)),localStorage.setItem(ed,JSON.stringify(e))}catch(s){if(console.error("Error saving storage data:",s),s instanceof Error&&"QuotaExceededError"===s.name)try{console.log("Storage quota exceeded, clearing old data..."),e.sessions=e.sessions.slice(0,10),localStorage.setItem(ed,JSON.stringify(e))}catch(e){throw Error("存储空间不足，请清理浏览器数据后重试")}else throw Error("无法保存数据到本地存储")}}function eu(e){let s=ex(),t=s.sessions.findIndex(s=>s.id===e.id);t>=0?s.sessions[t]=e:s.sessions.push(e),s.sessions.length>50&&(s.sessions=s.sessions.sort((e,s)=>s.startTime.getTime()-e.startTime.getTime()).slice(0,50)),eh(s)}function ep(){return ex().sessions.sort((e,s)=>s.startTime.getTime()-e.startTime.getTime())}function eg(e){try{let s=ex();console.log(`Searching for session ID: "${e}"`),console.log("Available sessions:",s.sessions.map(e=>e.id));let t=s.sessions.find(s=>s.id===e);return t?console.log("Session found:",{id:t.id,type:t.type,completed:t.completed,hasResults:!!t.results}):console.log("Session not found"),t}catch(e){console.error("Error in getAssessmentSession:",e);return}}function ej(e,s){try{let t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),l=URL.createObjectURL(t),r=document.createElement("a");r.href=l,r.download=s,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(l)}catch(e){throw console.error("Error downloading JSON:",e),Error("无法下载文件")}}function ey(){try{var e;let s;console.log("=== SRI Storage Diagnosis ===");let t="undefined"!=typeof Storage;if(console.log("LocalStorage available:",t),!t)return{error:"LocalStorage不可用"};let l=localStorage.getItem(ed);if(console.log("Storage item exists:",!!l),console.log("Storage item size:",l?l.length:0),!l)return{error:"没有找到存储数据"};try{s=JSON.parse(l)}catch(e){return{error:"存储数据解析失败",parseError:e}}return console.log("Sessions count:",(null==(e=s.sessions)?void 0:e.length)||0),s.sessions&&s.sessions.forEach((e,s)=>{console.log(`Session ${s}:`,{id:e.id,type:e.type,completed:e.completed,hasResults:!!e.results,startTime:e.startTime})}),{success:!0,data:s}}catch(e){return console.error("Diagnosis error:",e),{error:"diagnostics failed",details:e}}}var ef=t(3955),eb=t(5773);let eN=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(ef.bL,{ref:s,className:x("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:(0,l.jsx)(ef.C1,{className:x("flex items-center justify-center text-current"),children:(0,l.jsx)(eb.A,{className:"h-4 w-4"})})})});eN.displayName=ef.bL.displayName;var ev=t(3160);let ew=(0,v.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),e_=r.forwardRef((e,s)=>{let{className:t,variant:r,...a}=e;return(0,l.jsx)("div",{ref:s,role:"alert",className:x(ew({variant:r}),t),...a})});e_.displayName="Alert",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)("h5",{ref:s,className:x("mb-1 font-medium leading-none tracking-tight",t),...r})}).displayName="AlertTitle";let ek=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)("div",{ref:s,className:x("text-sm [&_p]:leading-relaxed",t),...r})});function eS(e){let{onConsent:s,onBack:t,isMinor:a=!1}=e,[i,n]=(0,r.useState)({purpose:!1,privacy:!1,voluntary:!1,nonDiagnostic:!1,...a&&{parentalConsent:!1,ageConfirmation:!1}}),c=Object.values(i).every(Boolean),o=(e,s)=>{n(t=>({...t,[e]:s}))};return(0,l.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-psychology-primary mb-2",children:"性压抑指数评估"}),(0,l.jsx)("p",{className:"text-muted-foreground text-lg",children:"基于科学研究的心理测评工具"})]}),(0,l.jsxs)(j,{className:"sri-card",children:[(0,l.jsx)(y,{children:(0,l.jsxs)(f,{className:"flex items-center gap-2",children:[(0,l.jsx)(A.A,{className:"w-5 h-5 text-psychology-primary"}),"知情同意书"]})}),(0,l.jsxs)(b,{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(ev.A,{className:"w-5 h-5 text-psychology-secondary mt-1 flex-shrink-0"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"评估目的"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"本评估旨在帮助您了解自己在性心理方面的特征，包括对性相关刺激的情绪反应、 性内疚感、性羞耻体验以及性抑制与兴奋的平衡。这是一个基于科学研究的自我探索工具， 可以促进您对自身性心理健康的认知和理解。"})]})]}),(0,l.jsx)("div",{className:"ml-8",children:(0,l.jsxs)("label",{className:"flex items-start gap-2 text-sm cursor-pointer",children:[(0,l.jsx)(eN,{checked:i.purpose,onCheckedChange:e=>o("purpose",!!e),className:"mt-1"}),(0,l.jsx)("span",{children:"我理解本评估的目的是帮助我了解自己的性心理特征"})]})})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(M.A,{className:"w-5 h-5 text-psychology-secondary mt-1 flex-shrink-0"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"隐私保护"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"您的所有回答将完全匿名化处理，仅保存在您的设备本地，不会上传到任何服务器。 我们不收集任何可识别个人身份的信息。您可以随时删除本地保存的数据， 也可以选择导出数据用于个人记录。您的隐私和数据安全是我们的首要关注。"})]})]}),(0,l.jsx)("div",{className:"ml-8",children:(0,l.jsxs)("label",{className:"flex items-start gap-2 text-sm cursor-pointer",children:[(0,l.jsx)(eN,{checked:i.privacy,onCheckedChange:e=>o("privacy",!!e),className:"mt-1"}),(0,l.jsx)("span",{children:"我理解我的数据将被匿名化处理并仅保存在本地设备上"})]})})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(R.A,{className:"w-5 h-5 text-psychology-secondary mt-1 flex-shrink-0"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"自愿参与"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"参与本评估完全基于自愿原则。您可以在任何时候退出评估，无需说明理由。 对于任何让您感到不适的问题，您都可以选择跳过。评估过程中如果您感到不适， 请立即停止并寻求专业心理健康服务的帮助。"})]})]}),(0,l.jsx)("div",{className:"ml-8",children:(0,l.jsxs)("label",{className:"flex items-start gap-2 text-sm cursor-pointer",children:[(0,l.jsx)(eN,{checked:i.voluntary,onCheckedChange:e=>o("voluntary",!!e),className:"mt-1"}),(0,l.jsx)("span",{children:"我理解参与是自愿的，可以随时退出评估"})]})})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(B.A,{className:"w-5 h-5 text-psychology-warning mt-1 flex-shrink-0"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"非诊断性质"}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:["本评估结果仅供自我了解和反思使用，",(0,l.jsx)("strong",{children:"不能替代专业的心理健康诊断或治疗"}),"。 如果您在性心理健康方面有困扰，建议咨询合格的心理健康专业人士。 评估结果不应被用于医疗决策或自我诊断。"]})]})]}),(0,l.jsx)("div",{className:"ml-8",children:(0,l.jsxs)("label",{className:"flex items-start gap-2 text-sm cursor-pointer",children:[(0,l.jsx)(eN,{checked:i.nonDiagnostic,onCheckedChange:e=>o("nonDiagnostic",!!e),className:"mt-1"}),(0,l.jsx)("span",{children:"我理解这不是医疗诊断工具，如有需要会寻求专业帮助"})]})})]}),a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(M.A,{className:"w-5 h-5 text-psychology-warning mt-1 flex-shrink-0"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold mb-2 text-psychology-warning",children:"未成年人保护条款"}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:["您即将参与一个关于性心理认知的评估。作为未成年人，我们特别关注您的安全和福祉。 本评估内容经过专门调整，适合青少年群体，不包含不当内容。",(0,l.jsx)("strong",{children:"强烈建议您在家长或监护人的知情和同意下参与本评估。"})]})]})]}),(0,l.jsxs)("div",{className:"ml-8 space-y-2",children:[(0,l.jsxs)("label",{className:"flex items-start gap-2 text-sm cursor-pointer",children:[(0,l.jsx)(eN,{checked:i.ageConfirmation,onCheckedChange:e=>o("ageConfirmation",!!e),className:"mt-1"}),(0,l.jsx)("span",{children:"我确认我的年龄在14-17岁之间，理解这是一个教育性的自我认知工具"})]}),(0,l.jsxs)("label",{className:"flex items-start gap-2 text-sm cursor-pointer",children:[(0,l.jsx)(eN,{checked:i.parentalConsent,onCheckedChange:e=>o("parentalConsent",!!e),className:"mt-1"}),(0,l.jsx)("span",{children:"我已告知家长或监护人关于此评估，或者我有能力独立做出参与决定"})]})]})]}),(0,l.jsxs)(e_,{className:"border-psychology-warning",children:[(0,l.jsx)(B.A,{className:"h-4 w-4 text-psychology-warning"}),(0,l.jsxs)(ek,{className:"text-sm",children:[(0,l.jsx)("strong",{children:"青少年专用提醒："}),"如果您在学习、生活或情感方面遇到困扰， 请主动与家长、老师或学校心理咨询师沟通。青少年时期的困惑是正常的， 寻求帮助是勇敢和明智的选择。"]})]})]}),(0,l.jsxs)(e_,{children:[(0,l.jsx)(B.A,{className:"h-4 w-4"}),(0,l.jsxs)(ek,{className:"text-sm",children:[(0,l.jsx)("strong",{children:"重要提醒："}),"如果您目前正在经历严重的心理困扰、抑郁、焦虑或有自伤倾向， 请立即寻求专业心理健康服务的帮助。本评估不适合处于急性心理危机状态的人群。"]})]}),(0,l.jsxs)("div",{className:"flex justify-between pt-4 border-t",children:[t&&(0,l.jsx)(_,{variant:"outline",onClick:t,children:"返回"}),(0,l.jsxs)("div",{className:"flex gap-3 ml-auto",children:[(0,l.jsx)(_,{variant:"outline",onClick:()=>s(!1),children:"我不同意"}),(0,l.jsx)(_,{onClick:()=>s(!0),disabled:!c,className:"bg-psychology-primary hover:bg-psychology-primary/90",children:"我同意并开始评估"})]})]})]})]}),(0,l.jsx)("div",{className:"text-center text-xs text-muted-foreground",children:(0,l.jsx)("p",{children:"本工具基于科学研究文献开发，量表来源包括 SIS/SES-SF、Mosher 性内疚量表、 KISS-9 性羞耻量表等经过验证的心理测量工具。"})})]})}ek.displayName="AlertDescription";var eq=t(9794),eO=t(8309);let eA=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(eq.bL,{className:x("grid gap-2",t),...r,ref:s})});eA.displayName=eq.bL.displayName;let eC=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(eq.q7,{ref:s,className:x("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,l.jsx)(eq.C1,{className:"flex items-center justify-center",children:(0,l.jsx)(eO.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});eC.displayName=eq.q7.displayName;var eI=t(552);let eR=(0,v.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),e$=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(eI.b,{ref:s,className:x(eR(),t),...r})});function eE(e){let{onSubmit:s,onBack:t,initialData:a}=e,[i,n]=(0,r.useState)({consentToParticipate:!0,...a}),[c,o]=(0,r.useState)({});return(0,l.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-psychology-primary mb-2",children:"基本信息"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"请提供一些基本信息，这将帮助我们提供更准确的结果分析"})]}),(0,l.jsxs)(j,{className:"sri-card",children:[(0,l.jsx)(y,{children:(0,l.jsxs)(f,{className:"flex items-center gap-2",children:[(0,l.jsx)(R.A,{className:"w-5 h-5 text-psychology-primary"}),"人口学信息"]})}),(0,l.jsxs)(b,{className:"space-y-8",children:[ei.map(e=>{var s;let t=(null==(s=i[e.id])?void 0:s.toString())||"",r=!!c[e.id];return(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)(e$,{className:"text-base font-medium",children:[e.text,e.required&&(0,l.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),!e.required&&(0,l.jsx)("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-1 rounded",children:"可选"})]}),(0,l.jsx)(eA,{value:t,onValueChange:s=>{var t;return t=e.id,void(n(e=>({...e,[t]:s})),c[t]&&o(e=>({...e,[t]:""})))},className:"grid grid-cols-1 gap-3",children:e.options.map(s=>(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(eC,{value:s.value.toString(),id:`${e.id}-${s.value}`,className:"text-psychology-primary"}),(0,l.jsx)(e$,{htmlFor:`${e.id}-${s.value}`,className:"text-sm font-normal cursor-pointer flex-1 p-2 rounded hover:bg-muted/50 transition-colors",children:s.label})]},s.value))}),r&&(0,l.jsx)("p",{className:"text-sm text-red-500",children:c[e.id]})]},e.id)}),(0,l.jsxs)("div",{className:"bg-muted/30 p-4 rounded-lg border border-muted",children:[(0,l.jsx)("h4",{className:"font-medium text-sm mb-2",children:"隐私保护"}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"以上信息仅用于提供个性化的结果分析，所有数据均在您的设备本地处理， 不会上传到任何服务器。您可以随时删除这些数据。"})]}),(0,l.jsxs)("div",{className:"flex justify-between pt-4 border-t",children:[t&&(0,l.jsxs)(_,{variant:"outline",onClick:t,children:[(0,l.jsx)(V.A,{className:"w-4 h-4 mr-2"}),"返回"]}),(0,l.jsxs)(_,{onClick:()=>{(()=>{let e={};for(let s of ei.filter(e=>e.required))i[s.id]||(e[s.id]="请选择一个选项");return o(e),0===Object.keys(e).length})()&&s({age:i.age||"",gender:i.gender||"",relationshipStatus:i.relationshipStatus||"",sexualActivity:i.sexualActivity||"",religiousCultural:i.religiousCultural,consentToParticipate:!0})},className:"bg-psychology-primary hover:bg-psychology-primary/90 ml-auto",children:["继续评估",(0,l.jsx)(E.A,{className:"w-4 h-4 ml-2"})]})]})]})]}),(0,l.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:"第 1 步，共 3 步：基本信息收集"})]})}e$.displayName=eI.b.displayName;var ez=t(250),eT=t(7677),eD=t(7946);function eM(e){var s;let{type:t,demographics:a,responses:i,onResponseUpdate:n,onComplete:c,onBack:o}=e,d=(()=>{let e,s;if("quick"===t){let e,s;return e=parseInt(a.age),s=parseInt(a.sexualActivity),0===e?["teen_sexual_attitudes","sexual_cognition","sis_ses_adapted","sos_screening"]:0===s?["sexual_cognition","sis_ses_adapted","mosher_guilt","kiss9_shame","sos_screening"]:["sis_ses_sf","mosher_guilt","kiss9_shame","sos_screening"]}return e=parseInt(a.age),s=parseInt(a.sexualActivity),0===e?["teen_sexual_attitudes","sexual_cognition","sis_ses_adapted","sos_full","kiss9_shame"]:0===s?["sexual_cognition","sis_ses_adapted","mosher_guilt_full","kiss9_shame","sos_full","bsas_brief"]:["sis_ses_full","mosher_guilt_full","kiss9_shame","sos_full","bsas_brief"]})(),m=0===parseInt((s=a).age)?"青少年适应版":0===parseInt(s.sexualActivity)?"无性经验适应版":1===parseInt(s.sexualActivity)?"低活跃度适应版":"标准版";console.log(`用户群体: ${m}, 选中量表:`,d);let x=d.flatMap(e=>{let s=en[e];return s?s.questions:[]}),[h,u]=(0,r.useState)(null),[p,g]=(0,r.useState)(0),[N,v]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(i.length>0){let e=setTimeout(()=>{try{let e={type:t,demographics:a,responses:i,currentPage:p,timestamp:new Date().toISOString()};localStorage.setItem("sri_assessment_progress",JSON.stringify(e)),v(new Date)}catch(e){console.error("保存进度失败:",e)}},1e3);return()=>clearTimeout(e)}},[i,t,a,p]),(0,r.useEffect)(()=>{let e=localStorage.getItem("sri_assessment_progress");if(e)try{let s=JSON.parse(e);s.type===t&&g(s.currentPage||0)}catch(e){console.error("恢复保存的进度时出错:",e)}},[t]);let w="full"===t,k=w?15:x.length,q=w?Math.ceil(x.length/k):1,O=(()=>{if(!w)return x;let e=p*k;return x.slice(e,e+k)})(),A=(e,s)=>{let t={questionId:e,value:s,timestamp:new Date},l=i.filter(s=>s.questionId!==e);l.push(t),n(l)},C=()=>{let e=i.length,s=x.length-e;return{answered:e,unanswered:s,requiredUnanswered:x.filter(e=>e.required).filter(e=>!i.some(s=>s.questionId===e.id)).length}},I=d.reduce((e,s)=>{let t=en[s];if(t)if(w){let l=t.questions.filter(e=>O.some(s=>s.id===e.id));l.length>0&&(e[s]=l)}else e[s]=t.questions;return e},{}),R=p<q-1,$=p>0,E=C(),z=E.answered/x.length*100;return(0,l.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,l.jsxs)(j,{className:"sri-card",children:[(0,l.jsx)(y,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)(f,{className:"flex items-center gap-2",children:[(0,l.jsx)(D.A,{className:"w-5 h-5 text-psychology-primary"}),"问卷评估进度"]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,l.jsx)(S,{variant:"secondary",className:"text-psychology-primary",children:m}),(0,l.jsx)(S,{variant:"outline",children:"quick"===t?"快测版":"完整版"})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)(S,{variant:"outline",className:"text-psychology-primary border-psychology-primary",children:[E.answered," / ",x.length," 已完成"]}),N&&(0,l.jsxs)(S,{variant:"secondary",className:"text-xs",children:["已保存 ",N.toLocaleTimeString()]})]})]})}),(0,l.jsxs)(b,{className:"space-y-4",children:[(0,l.jsx)(J,{value:z,className:"h-2"}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-2 sm:gap-4",children:[(0,l.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600",children:E.answered}),(0,l.jsx)("div",{className:"text-sm text-green-600",children:"已回答"})]}),(0,l.jsxs)("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:E.unanswered}),(0,l.jsx)("div",{className:"text-sm text-yellow-600",children:"未回答"})]}),(0,l.jsxs)("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-red-600",children:E.requiredUnanswered}),(0,l.jsx)("div",{className:"text-sm text-red-600",children:"必答未完成"})]})]})]})]}),w&&(0,l.jsx)(j,{className:"sri-card",children:(0,l.jsx)(b,{className:"p-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)(_,{variant:"outline",onClick:()=>{p>0&&(g(p-1),window.scrollTo(0,0))},disabled:!$,className:"flex items-center gap-2",children:[(0,l.jsx)(ez.A,{className:"w-4 h-4"}),"上一页"]}),(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)("span",{className:"text-sm text-muted-foreground",children:["第 ",p+1," 页，共 ",q," 页"]}),(0,l.jsx)("div",{className:"flex gap-1",children:Array.from({length:q},(e,s)=>(0,l.jsx)("button",{onClick:()=>{g(s),window.scrollTo(0,0)},className:`
                        w-8 h-8 rounded text-xs font-medium transition-colors
                        ${s===p?"bg-psychology-primary text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}
                      `,children:s+1},s))})]}),(0,l.jsxs)(_,{variant:"outline",onClick:()=>{p<q-1&&(g(p+1),window.scrollTo(0,0))},disabled:!R,className:"flex items-center gap-2",children:["下一页",(0,l.jsx)(eT.A,{className:"w-4 h-4"})]})]})})}),Object.entries(I).map(e=>{let[s,t]=e,r=en[s],a=i.filter(e=>t.some(s=>s.id===e.questionId)),n=a.length/t.length*100;return(0,l.jsxs)(j,{className:"sri-card",children:[(0,l.jsx)(y,{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{className:"text-lg",children:r.name}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:r.description})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)(S,{variant:"secondary",children:[a.length," / ",t.length]}),(0,l.jsx)(J,{value:n,className:"h-1 w-20 mt-2"})]})]})}),(0,l.jsx)(b,{className:"space-y-6",children:t.map((e,s)=>{let t,r=(t=e.id,i.find(e=>e.questionId===t)),a=!!r;return(0,l.jsxs)("div",{id:`question-${e.id}`,className:`
                      p-6 rounded-lg border-2 transition-all duration-200
                      ${a?"bg-green-50 border-green-200":e.required?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200"}
                    `,children:[(0,l.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,l.jsx)(S,{variant:"outline",className:"text-xs",children:s+1}),e.required&&(0,l.jsx)(S,{variant:"destructive",className:"text-xs",children:"必答"}),a&&(0,l.jsx)(F.A,{className:"w-4 h-4 text-green-500"})]}),(0,l.jsx)("h3",{className:"text-base font-medium text-foreground leading-relaxed",children:e.text}),e.description&&(0,l.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]})}),(0,l.jsx)(eA,{value:(null==r?void 0:r.value.toString())||"",onValueChange:s=>A(e.id,parseInt(s)),className:"mt-4",children:(0,l.jsx)("div",{className:"grid grid-cols-1 gap-3 sm:gap-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 xl:grid-cols-5",children:e.options.map(s=>{let t=(null==r?void 0:r.value)===s.value;return(0,l.jsxs)("div",{onClick:()=>A(e.id,s.value),onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),A(e.id,s.value))},role:"radio","aria-checked":t,tabIndex:0,className:`
                                flex items-center p-2 sm:p-3 rounded-lg border-2 transition-all duration-200 cursor-pointer hover:bg-white/50 select-none active:scale-[0.98]
                                ${t?"bg-white border-psychology-primary shadow-sm":"bg-white/30 border-gray-300 hover:border-gray-400"}
                              `,children:[(0,l.jsx)(eC,{value:s.value.toString(),id:`${e.id}-option-${s.value}`,className:"shrink-0"}),(0,l.jsx)(e$,{htmlFor:`${e.id}-option-${s.value}`,className:"ml-2 sm:ml-3 cursor-pointer text-xs sm:text-sm font-medium flex-1 leading-tight",children:s.label})]},s.value)})})}),e.required&&!a&&(0,l.jsxs)("div",{className:"flex items-center gap-2 mt-3 text-red-600",children:[(0,l.jsx)(eD.A,{className:"w-4 h-4"}),(0,l.jsx)("span",{className:"text-sm",children:"此题为必答题"})]})]},e.id)})})]},s)}),(0,l.jsx)(j,{className:"sri-card",children:(0,l.jsx)(b,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)(_,{variant:"outline",onClick:o,className:"flex items-center gap-2",children:[(0,l.jsx)(V.A,{className:"w-4 h-4"}),"返回上一步"]}),(0,l.jsxs)("div",{className:"text-center",children:[w&&E.requiredUnanswered>0&&(0,l.jsx)("p",{className:"text-sm text-amber-600 mb-2",children:"还有未完成的题目，请继续填写或查看其他页面"}),!w&&(0,l.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"请确保所有必答题都已完成"}),(0,l.jsxs)(_,{onClick:()=>{let e=C();if(e.requiredUnanswered>0){let t=x.find(e=>e.required&&!i.some(s=>s.questionId===e.id));if(t){var s;if(w){let e=Math.floor(x.findIndex(e=>e.id===t.id)/k);if(e!==p){g(e),setTimeout(()=>{var e;null==(e=document.getElementById(`question-${t.id}`))||e.scrollIntoView({behavior:"smooth",block:"center"})},100);return}}null==(s=document.getElementById(`question-${t.id}`))||s.scrollIntoView({behavior:"smooth",block:"center"})}alert(`还有 ${e.requiredUnanswered} 道必答题未完成，请继续填写。`);return}localStorage.removeItem("sri_assessment_progress"),c()},disabled:E.requiredUnanswered>0,className:"bg-psychology-primary hover:bg-psychology-primary/90 px-8",size:"lg",children:["完成评估并查看结果",(0,l.jsx)(F.A,{className:"w-4 h-4 ml-2"})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"text-sm text-muted-foreground",children:["进度: ",Math.round(z),"%"]}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:E.requiredUnanswered>0?`还有 ${E.requiredUnanswered} 道必答题`:"所有必答题已完成"})]})]})})}),(0,l.jsx)("div",{className:"text-center py-4",children:(0,l.jsx)("p",{className:"text-xs text-muted-foreground max-w-2xl mx-auto",children:"请根据您的真实感受选择最符合的选项。所有回答都将被严格保密，仅用于生成您的个人评估报告。 您可以随时修改之前的回答。"})})]})}function eF(e){let{type:s,demographics:t,responses:r,onResponseUpdate:a,onComplete:i,onBack:n}=e;return(0,l.jsx)(eM,{type:s,demographics:t,responses:r,onResponseUpdate:a,onComplete:i,onBack:n})}function eL(){let e=(0,g.Zp)(),[s]=(0,g.ok)(),t=s.get("type")||"quick",[a,i]=(0,r.useState)("consent"),[n]=(0,r.useState)(()=>`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),[c,o]=(0,r.useState)(null),[d,m]=(0,r.useState)([]),[x,h]=(0,r.useState)(null);(0,r.useEffect)(()=>{h({id:n,type:t,demographics:{},responses:[],startTime:new Date,completed:!1})},[n,t]);let u=(null==c?void 0:c.age)==="0",p=async()=>{if(x&&c){i("processing");try{let s=function(e,s,t){var l,r;let a,i,n,c;if(!e||0===e.length)throw Error("No responses provided for calculation");let o={sampleSize:1e3,means:{sis_total:35.2,ses_total:16.8,sis1_total:15.4,sis2_total:19.8,sis_ses_full_sis:87.5,sis_ses_full_ses:42.8,mosher_guilt:25.6,mosher_guilt_full:62.7,kiss9_shame:18.7,sos_screening:15.3,sos_full:63,bsas_brief:69.2,teen_sexual_attitudes:25,sexual_cognition:28.5,sis_ses_adapted:24},standardDeviations:{sis_total:8.9,ses_total:3.7,sis1_total:4.1,sis2_total:5.2,sis_ses_full_sis:18.3,sis_ses_full_ses:9.2,mosher_guilt:7.8,mosher_guilt_full:19.2,kiss9_shame:6.4,sos_screening:4.6,sos_full:12.8,bsas_brief:15.4,teen_sexual_attitudes:6.2,sexual_cognition:7.1,sis_ses_adapted:5.8},updatedAt:new Date},d=[];for(let s of Object.keys(en)){let t=function(e,s){let t=en[s];if(!t)return console.warn(`Unknown scale: ${s}`),0;let l=e.filter(e=>t.questions.some(s=>s.id===e.questionId));if(0===l.length)return 0;let r=0;for(let e of l){let s=t.questions.find(s=>s.id===e.questionId);if(s){let t=s.options.map(e=>e.value);if(!t.includes(e.value)){console.warn(`Invalid response value ${e.value} for question ${s.id}`);continue}let l=e.value;s.reverse&&(l=Math.max(...t)+Math.min(...t)-l),r+=l}}return r}(e,s);if(t>0){let e=`${s.replace("_sf","_total")}`,l=o.means[e]||o.means[s]||0,r=eo(t,l,o.standardDeviations[e]||o.standardDeviations[s]||1),a=100*ec(r);d.push({scaleId:s,rawScore:t,zScore:r,percentile:Math.max(0,Math.min(100,Math.round(a)))})}}if(0===d.length)throw Error("Insufficient data for SRI calculation");let m=function(e){let s=(e.sosReversed+e.sexGuilt+e.sexualShame+e.sisOverSes)/4,t=100*ec(s),l=Math.round(Math.max(0,Math.min(100,t))),r="moderate";for(let[e,s]of Object.entries(W))if(l>=s.min&&l<s.max){r=e;break}return{totalScore:l,zScore:s,percentile:t,level:r,dimensionScores:e,scaleScores:[]}}(function(e,s){let t=0,l=e.filter(e=>e.questionId.startsWith("sos_"));l.length>5?t=eo(l.reduce((e,s)=>e+s.value,0),s.means.sos_full||63,s.standardDeviations.sos_full||12.8):l.length>0&&(t=eo(l.reduce((e,s)=>e+s.value,0),s.means.sos_screening||15.3,s.standardDeviations.sos_screening||4.6));let r=0,a=e.filter(e=>e.questionId.startsWith("mg_"));a.length>10?r=eo(a.reduce((e,s)=>e+s.value,0),s.means.mosher_guilt_full||62.7,s.standardDeviations.mosher_guilt_full||19.2):a.length>0&&(r=eo(a.reduce((e,s)=>e+s.value,0),s.means.mosher_guilt||25.6,s.standardDeviations.mosher_guilt||7.8));let i=0,n=e.filter(e=>e.questionId.startsWith("ks_")),c=e.filter(e=>e.questionId.startsWith("tsa_"));n.length>0?i=eo(n.reduce((e,s)=>e+s.value,0),s.means.kiss9_shame||18.7,s.standardDeviations.kiss9_shame||6.4):c.length>0&&(i=eo(c.reduce((e,s)=>e+s.value,0),s.means.teen_sexual_attitudes||25,s.standardDeviations.teen_sexual_attitudes||6.2));let o=0,d=e.filter(e=>e.questionId.startsWith("sc_")),m=e.filter(e=>e.questionId.startsWith("sisa_"));if(d.length>0||m.length>0){let e=d.reduce((e,s)=>e+s.value,0)+m.reduce((e,s)=>e+s.value,0);if(e>0){let t=s.means.sexual_cognition||28.5;o=eo(e,t,s.standardDeviations.sexual_cognition||7.1)}}else{let t,l,r,a,i,n,c,d,m,x,h;o=(l=(t=e.filter(e=>e.questionId.startsWith("ses_"))).reduce((e,s)=>e+s.value,0),a=(r=e.filter(e=>e.questionId.startsWith("sis1_"))).reduce((e,s)=>e+s.value,0),n=(i=e.filter(e=>e.questionId.startsWith("sis2_"))).reduce((e,s)=>e+s.value,0),c=a+n,d=t.length,m=r.length+i.length,x=eo(l,s.means.ses_total||(d<=4?16.8:42.8),s.standardDeviations.ses_total||(d<=4?3.7:9.2)),h=eo(c,s.means.sis_total||(m<=10?35.2:87.5),s.standardDeviations.sis_total||(m<=10?8.9:18.3)),{sesRaw:l,sesZ:x,sis1Raw:a,sis2Raw:n,sisTotal:c,sisZ:h,sisOverSes:h-x}).sisOverSes}return{sosReversed:t,sexGuilt:r,sexualShame:i,sisOverSes:o}}(e,o));m.scaleScores=d;let x=(a=W[(l=m).level],i=[`您的性压抑指数为 ${l.totalScore} 分，处于「${a.label}」水平。`,`这表明您在性相关的心理体验方面${{"very-low":"表现出较少的性压抑，对性相关内容和体验相对开放和接受",low:"在性心理方面相对健康，压抑程度较低",moderate:"处于正常范围内，既不过分压抑也不过分开放",high:"存在一定程度的性压抑，可能影响性体验和亲密关系","very-high":"存在较明显的性压抑，建议寻求专业心理咨询师的帮助"}[l.level]}。`],n=[],l.dimensionScores.sosReversed>1&&n.push("对性刺激的回避倾向"),l.dimensionScores.sexGuilt>1&&n.push("性相关内疚感"),l.dimensionScores.sexualShame>1&&n.push("性羞耻体验"),l.dimensionScores.sisOverSes>1&&n.push("性抑制相对优势"),n.length>0&&i.push(`在以下维度上得分较高：${n.join("、")}。`),i),h=(r=m,c=[],("very-high"===r.level||"high"===r.level)&&(c.push("考虑与专业的性治疗师或心理咨询师交流，探讨性心理健康话题。"),c.push("尝试阅读一些关于性健康和性心理的科学读物，增进对性的科学认知。")),r.dimensionScores.sexGuilt>1&&c.push("探索性内疚感的来源，可能与文化背景、家庭教育或宗教信念相关。"),r.dimensionScores.sexualShame>1&&c.push("练习自我接纳和身体正念，建立与自己身体的积极关系。"),r.dimensionScores.sisOverSes>1&&c.push("学习放松技巧和正念练习，减少性焦虑和过度控制。"),c.push("与信任的伴侣或朋友开放地讨论性话题，减少孤立感。"),c.push("记住这不是诊断工具，结果仅供自我了解和反思使用。"),c);return{sessionId:s,sri:m,interpretation:x,recommendations:h,calculatedAt:new Date}}(d,n),t={...x,responses:d,results:s,endTime:new Date,completed:!0};h(t),eu(t),setTimeout(()=>{e(`/results?sessionId=${n}`)},2e3)}catch(e){console.error("Error calculating results:",e),alert("计算结果时发生错误，请重试。"),i("questionnaire")}}},y=()=>{let e=["consent","demographics","questionnaire","processing"];return(e.indexOf(a)+1)/e.length*100},f=()=>{switch(a){case"demographics":i("consent");break;case"questionnaire":i("demographics");break;default:e("/")}};return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-psychology-calm via-white to-psychology-warm",children:[(0,l.jsx)("nav",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-muted",children:(0,l.jsxs)("div",{className:"container mx-auto px-4 py-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)(_,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"text-muted-foreground hover:text-foreground",children:[(0,l.jsx)(P.A,{className:"w-4 h-4 mr-2"}),"首页"]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(q.A,{className:"w-5 h-5 text-psychology-primary"}),(0,l.jsx)("span",{className:"font-semibold text-psychology-primary",children:"quick"===t?"快速测评":"完整测评"})]})]}),"processing"!==a&&(0,l.jsxs)(_,{variant:"outline",size:"sm",onClick:f,className:"text-muted-foreground hidden sm:flex",children:[(0,l.jsx)(V.A,{className:"w-4 h-4 mr-2"}),"返回"]}),"processing"!==a&&(0,l.jsx)(_,{variant:"outline",size:"sm",onClick:f,className:"text-muted-foreground sm:hidden",children:(0,l.jsx)(V.A,{className:"w-4 h-4"})})]}),"consent"!==a&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:"整体进度"}),(0,l.jsxs)("span",{className:"text-sm font-medium",children:[Math.round(y()),"%"]})]}),(0,l.jsx)(J,{value:y(),className:"h-2"})]})]})}),(0,l.jsxs)("main",{className:"container mx-auto px-4 py-8",children:["consent"===a&&(0,l.jsx)(eS,{onConsent:s=>{s?i("demographics"):e("/")},isMinor:u}),"demographics"===a&&(0,l.jsx)(eE,{onSubmit:e=>{if(o(e),x){let s={...x,demographics:e};h(s),eu(s)}i("questionnaire")},onBack:f,initialData:c||void 0}),"questionnaire"===a&&c&&(0,l.jsx)(eF,{type:t,demographics:c,responses:d,onResponseUpdate:e=>{if(m(e),x){let s={...x,responses:e};h(s),eu(s)}},onComplete:p,onBack:f}),"processing"===a&&(0,l.jsx)("div",{className:"max-w-2xl mx-auto text-center",children:(0,l.jsx)(j,{className:"sri-card p-12",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-psychology-primary/10 rounded-full flex items-center justify-center mx-auto",children:(0,l.jsx)(q.A,{className:"w-8 h-8 text-psychology-primary animate-pulse"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-psychology-primary mb-2",children:"正在分析您的回答"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"我们正在使用科学算法计算您的性压抑指数，请稍候..."})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)(J,{value:100,className:"h-2"}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[(0,l.jsx)(F.A,{className:"w-4 h-4 text-green-500"}),(0,l.jsx)("span",{children:"应用多维度标准化算法"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[(0,l.jsx)(F.A,{className:"w-4 h-4 text-green-500"}),(0,l.jsx)("span",{children:"生成个性化分析报告"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[(0,l.jsx)(F.A,{className:"w-4 h-4 text-green-500"}),(0,l.jsx)("span",{children:"保护您的隐私数据"})]})]})]})})})]}),"questionnaire"===a&&(0,l.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-muted p-3 sm:p-4",children:(0,l.jsx)("div",{className:"container mx-auto",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground",children:[(0,l.jsx)(B.A,{className:"w-3 h-3 sm:w-4 sm:h-4"}),(0,l.jsx)("span",{className:"hidden sm:inline",children:"您的所有回答都会安全地保存在本地设备上"}),(0,l.jsx)("span",{className:"sm:hidden",children:"数据安全保存"})]}),(0,l.jsxs)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:["已回答: ",d.length," 题"]})]})})})]})}var eU=t(8485);let eJ=r.forwardRef((e,s)=>{let{className:t,orientation:r="horizontal",decorative:a=!0,...i}=e;return(0,l.jsx)(eU.b,{ref:s,decorative:a,orientation:r,className:x("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",t),...i})});eJ.displayName=eU.b.displayName;var eP=t(5977),eV=t(690),eB=t(7213),eW=t(6316),eG=t(1212),eK=t(8697);let eQ=eG.bL,eY=eG.l9,eH=eG.ZL;eG.bm;let eZ=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(eG.hJ,{ref:s,className:x("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});eZ.displayName=eG.hJ.displayName;let eX=r.forwardRef((e,s)=>{let{className:t,children:r,...a}=e;return(0,l.jsxs)(eH,{children:[(0,l.jsx)(eZ,{}),(0,l.jsxs)(eG.UC,{ref:s,className:x("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[r,(0,l.jsxs)(eG.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,l.jsx)(eK.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});eX.displayName=eG.UC.displayName;let e0=e=>{let{className:s,...t}=e;return(0,l.jsx)("div",{className:x("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};e0.displayName="DialogHeader";let e1=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(eG.hE,{ref:s,className:x("text-lg font-semibold leading-none tracking-tight",t),...r})});e1.displayName=eG.hE.displayName;let e2=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(eG.VY,{ref:s,className:x("text-sm text-muted-foreground",t),...r})});e2.displayName=eG.VY.displayName;var e4=t(205),e5=t(9574),e6=t(4687),e3=t(2853),e8=t(9804),e9=t(5404),e7=t(6570);function se(e){if(!e.results)return"我刚完成了SRI性压抑指数评估，发现了一些有趣的心理特征！";let s=e.results.sri,t=W[s.level],l=Math.round(s.totalScore),r={"very-low":[`我的SRI性压抑指数是${l}分，属于${t.label}！看来我对性的态度比较开放健康呢 😊`,`刚测完SRI指数：${l}分（${t.label}）！心理健康状态不错，对自己的性心理有了更好的了解 ✨`,`SRI评估结果出炉：${l}分，${t.label}水平。感觉自己在性心理方面比较自在！`],low:[`我的SRI性压抑指数：${l}分（${t.label}），整体还是比较健康的状态！`,`完成了专业的SRI评估，得分${l}，属于${t.label}。对自己有了新的认识！`,`SRI指数测试结果：${l}分，${t.label}。性心理健康状况良好 👍`],moderate:[`我的SRI性压抑指数是${l}分，处于${t.label}水平。可能需要多关注一下自己的心理健康~`,`刚做了SRI评估：${l}分（${t.label}）。发现了一些值得思考的心理特征！`,`SRI测试完成！得分${l}，${t.label}水平。这个结果让我对自己有了新的理解 🤔`],high:[`完成了SRI性压抑指数评估，得分${l}（${t.label}）。看来需要更多关爱自己的心理健康了！`,`我的SRI指数：${l}分，属于${t.label}。这个专业测评让我意识到需要更多自我关怀 💝`,`SRI评估结果：${l}分（${t.label}）。准备开始更好地照顾自己的心理健康！`],"very-high":[`刚完成SRI性压抑指数测评，得分${l}（${t.label}）。这个结果提醒我要更关注心理健康 🌱`,`我的SRI指数是${l}分，${t.label}水平。这个科学评估给了我很好的自我认知机会！`,`SRI测试结果：${l}分（${t.label}）。感谢这个专业工具让我更了解自己 💪`]}[s.level],a=r[Math.floor(Math.random()*r.length)];return`${a}

🧠 SRI性压抑指数计算器 - 基于科学心理测量学的专业评估工具
帮助你更好地了解自己的性心理特征，促进心理健康发展！

#SRI评估 #心理健康 #自我认知`}function ss(e){var s;let t=eg(e);if(!t||!t.results)throw Error("无法获取会话数据");let l=btoa(JSON.stringify({sri:{totalScore:t.results.sri.totalScore,level:t.results.sri.level,dimensionScores:t.results.sri.dimensionScores},type:t.type,completedAt:(null==(s=t.endTime)?void 0:s.toISOString())||new Date().toISOString()})),r=window.location.origin;return`${r}/results?shared=true&data=${l}`}async function st(e){if(navigator.clipboard&&window.isSecureContext)try{await navigator.clipboard.writeText(e);return}catch(e){console.warn("Clipboard API failed, falling back to execCommand")}let s=document.createElement("textarea");s.value=e,s.style.position="fixed",s.style.left="-999999px",s.style.top="-999999px",document.body.appendChild(s),s.focus(),s.select();try{document.execCommand("copy")}catch(e){throw Error("无法复制到剪贴板")}finally{document.body.removeChild(s)}}async function sl(e){let s=encodeURIComponent(e),t=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${s}`;return new Promise((e,s)=>{let l=new Image;l.onload=()=>{e(t)},l.onerror=()=>{e(function(e){let s=document.createElement("canvas"),t=s.getContext("2d");if(!t)throw Error("无法创建画布");s.width=200,s.height=200,t.fillStyle="#ffffff",t.fillRect(0,0,s.width,s.height),t.strokeStyle="#000000",t.lineWidth=2,t.strokeRect(10,10,s.width-20,s.height-20),t.fillStyle="#000000";let l=[[1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1],[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1],[1,0,1,1,1,0,1,0,0,1,0,1,1,1,0,1],[1,0,1,1,1,0,1,0,0,1,0,1,1,1,0,1],[1,0,1,1,1,0,1,0,0,1,0,1,1,1,0,1],[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1],[1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0],[1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1],[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1],[1,0,1,1,1,0,1,0,0,1,0,1,1,1,0,1],[1,0,1,1,1,0,1,0,0,1,0,1,1,1,0,1],[1,0,1,1,1,0,1,0,0,1,0,1,1,1,0,1],[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1],[1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1]];for(let e=0;e<l.length;e++)for(let s=0;s<l[e].length;s++)1===l[e][s]&&t.fillRect(20+8*s,20+8*e,7,7);return t.fillStyle="#666666",t.font="12px Arial, sans-serif",t.textAlign="center",t.fillText("扫码查看结果",s.width/2,s.height-15),s.toDataURL("image/png")}(0))},l.crossOrigin="anonymous",l.src=t})}function sr(e,s){let t=encodeURIComponent(e),l=encodeURIComponent(s);return{weibo:`https://service.weibo.com/share/share.php?url=${l}&title=${t}&pic=`,wechat:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${l}`,qzone:`https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=${l}&title=${t}&desc=`,qq:`https://connect.qq.com/widget/shareqq/index.html?url=${l}&title=${t}&desc=`,douban:`https://www.douban.com/recommend/?url=${l}&title=${t}`,twitter:`https://twitter.com/intent/tweet?text=${t}&url=${l}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${l}&quote=${t}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${l}&title=${t}`}}function sa(e){let s,{session:t,className:a}=e,[i,n]=(0,r.useState)(!1),[c,o]=(0,r.useState)(!1),[d,m]=(0,r.useState)(null);if(!t.results)return null;let x=t.results.sri,h=W[x.level],u=se(t);try{s=ss(t.id)}catch(e){console.error("Failed to generate share URL:",e),s=window.location.origin}let p=async()=>{try{await st(s),o(!0),setTimeout(()=>o(!1),2e3)}catch(e){console.error("Failed to copy link:",e)}},g=async()=>{try{let e=await sl(s);m(e)}catch(e){console.error("Failed to generate QR code:",e),alert("二维码生成失败，请尝试复制链接分享")}},y=e=>{let t=sr(u,s)[e];t&&window.open(t,"_blank","width=600,height=400")};return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(eQ,{open:i,onOpenChange:n,children:[(0,l.jsx)(eY,{asChild:!0,children:(0,l.jsxs)(_,{variant:"outline",size:"sm",className:`flex items-center gap-2 ${a}`,children:[(0,l.jsx)(e4.A,{className:"w-4 h-4"}),(0,l.jsx)("span",{className:"hidden sm:inline",children:"分享结果"})]})}),(0,l.jsxs)(eX,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,l.jsxs)(e0,{children:[(0,l.jsxs)(e1,{className:"flex items-center gap-2",children:[(0,l.jsx)(e4.A,{className:"w-5 h-5 text-psychology-primary"}),"分享我的SRI评估结果"]}),(0,l.jsx)(e2,{children:"选择您喜欢的方式分享评估结果，所有数据都经过匿名化处理"})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)(j,{className:"bg-gradient-to-br from-psychology-primary/5 to-psychology-accent/5 border-psychology-primary/20",children:(0,l.jsx)(b,{className:"p-6",children:(0,l.jsxs)("div",{className:"text-center space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,l.jsx)(q.A,{className:"w-8 h-8 text-psychology-primary"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-psychology-primary",children:"性压抑指数 (SRI)"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sexual Repression Index"})]})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"text-4xl font-bold text-psychology-primary",children:Math.round(x.totalScore)}),(0,l.jsx)(S,{className:`text-sm px-4 py-1 ${"very-low"===x.level||"low"===x.level?"text-green-600 bg-green-50 border-green-200":"moderate"===x.level?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-orange-600 bg-orange-50 border-orange-200"}`,variant:"outline",children:h.label})]}),(0,l.jsxs)("div",{className:"max-w-xs mx-auto",children:[(0,l.jsx)(J,{value:x.totalScore,className:"h-2"}),(0,l.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[(0,l.jsx)("span",{children:"0"}),(0,l.jsx)("span",{children:"50"}),(0,l.jsx)("span",{children:"100"})]})]}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"基于科学心理测量学的专业评估工具"})]})})}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,l.jsx)(e5.A,{className:"w-4 h-4"}),"社交媒体分享"]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,l.jsxs)(_,{variant:"outline",className:"flex flex-col items-center gap-2 h-20 bg-blue-50 hover:bg-blue-100 border-blue-200",onClick:()=>y("weibo"),children:[(0,l.jsx)("div",{className:"w-6 h-6 bg-orange-500 rounded flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-white text-xs font-bold",children:"微"})}),(0,l.jsx)("span",{className:"text-xs",children:"微博"})]}),(0,l.jsxs)(_,{variant:"outline",className:"flex flex-col items-center gap-2 h-20 bg-green-50 hover:bg-green-100 border-green-200",onClick:()=>y("wechat"),children:[(0,l.jsx)(e6.A,{className:"w-6 h-6 text-green-600"}),(0,l.jsx)("span",{className:"text-xs",children:"微信"})]}),(0,l.jsxs)(_,{variant:"outline",className:"flex flex-col items-center gap-2 h-20 bg-yellow-50 hover:bg-yellow-100 border-yellow-200",onClick:()=>y("qzone"),children:[(0,l.jsx)("div",{className:"w-6 h-6 bg-yellow-500 rounded flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-white text-xs font-bold",children:"Q"})}),(0,l.jsx)("span",{className:"text-xs",children:"QQ空间"})]}),(0,l.jsxs)(_,{variant:"outline",className:"flex flex-col items-center gap-2 h-20 bg-purple-50 hover:bg-purple-100 border-purple-200",onClick:()=>y("douban"),children:[(0,l.jsx)(I.A,{className:"w-6 h-6 text-purple-600"}),(0,l.jsx)("span",{className:"text-xs",children:"豆瓣"})]})]})]}),(0,l.jsx)(eJ,{}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:[(0,l.jsx)(e3.A,{className:"w-4 h-4"}),"直接分享"]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("div",{className:"flex-1 p-3 bg-muted rounded-lg text-sm font-mono break-all",children:s}),(0,l.jsx)(_,{variant:"outline",size:"sm",onClick:p,className:c?"text-green-600 border-green-200":"",children:c?(0,l.jsx)(e8.A,{className:"w-4 h-4"}):(0,l.jsx)(e9.A,{className:"w-4 h-4"})})]}),(0,l.jsxs)(_,{variant:"outline",size:"sm",onClick:g,className:"w-full",children:[(0,l.jsx)(e7.A,{className:"w-4 h-4 mr-2"}),"生成二维码"]}),d&&(0,l.jsx)("div",{className:"flex justify-center p-4 bg-white rounded-lg border",children:(0,l.jsx)("img",{src:d,alt:"分享二维码",className:"w-32 h-32"})})]})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("h4",{className:"font-semibold",children:"预设分享文案"}),(0,l.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg",children:[(0,l.jsx)("p",{className:"text-sm leading-relaxed text-muted-foreground",children:u}),(0,l.jsxs)(_,{variant:"ghost",size:"sm",onClick:()=>st(u),className:"mt-2 text-xs",children:[(0,l.jsx)(e9.A,{className:"w-3 h-3 mr-1"}),"复制文案"]})]})]}),(0,l.jsxs)(e_,{children:[(0,l.jsx)(q.A,{className:"h-4 w-4"}),(0,l.jsxs)(ek,{className:"text-sm",children:[(0,l.jsx)("strong",{children:"隐私保护："}),"分享的结果经过匿名化处理，不包含个人身份信息。 分享链接仅包含结果摘要，他人无法访问您的详细答题记录。"]})]})]})]})]})})}function si(e){let s,{session:t,className:a}=e,[i,n]=(0,r.useState)(!1);if(!t.results)return null;let c=se(t);try{s=ss(t.id)}catch(e){console.error("Failed to generate share URL:",e),s=window.location.origin}let o=async()=>{if(navigator.share)try{await navigator.share({title:"SRI性压抑指数评估结果",text:c,url:s});return}catch(e){console.log("Native share failed, falling back to copy")}try{await st(`${c}

${s}`),n(!0),setTimeout(()=>n(!1),2e3)}catch(e){console.error("Failed to copy:",e)}};return(0,l.jsxs)(_,{variant:"outline",size:"sm",onClick:o,className:`flex items-center gap-2 ${a}`,children:[i?(0,l.jsx)(e8.A,{className:"w-4 h-4 text-green-600"}):(0,l.jsx)(e4.A,{className:"w-4 h-4"}),(0,l.jsx)("span",{className:"hidden sm:inline",children:i?"已复制":"分享"})]})}let sn=eG.bL,sc=eG.l9;eG.bm;let so=eG.ZL,sd=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(eG.hJ,{className:x("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s})});sd.displayName=eG.hJ.displayName;let sm=(0,v.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),sx=r.forwardRef((e,s)=>{let{side:t="right",className:r,children:a,...i}=e;return(0,l.jsxs)(so,{children:[(0,l.jsx)(sd,{}),(0,l.jsxs)(eG.UC,{ref:s,className:x(sm({side:t}),r),...i,children:[a,(0,l.jsxs)(eG.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,l.jsx)(eK.A,{className:"h-4 w-4"}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});sx.displayName=eG.UC.displayName;let sh=e=>{let{className:s,...t}=e;return(0,l.jsx)("div",{className:x("flex flex-col space-y-2 text-center sm:text-left",s),...t})};sh.displayName="SheetHeader";let su=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(eG.hE,{ref:s,className:x("text-lg font-semibold text-foreground",t),...r})});su.displayName=eG.hE.displayName;let sp=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(eG.VY,{ref:s,className:x("text-sm text-muted-foreground",t),...r})});function sg(e){let s,t,a,i,n,c,{session:o,className:d}=e,[m,x]=(0,r.useState)(!1),[h,u]=(0,r.useState)(!1);if(!o.results)return null;let p=se(o);try{c=ss(o.id)}catch(e){console.error("Failed to generate share URL:",e),c=window.location.origin}let g=(s=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(s),a=/MicroMessenger/i.test(s),i=/QQ\//i.test(s),{isMobile:t,isWeChat:a,isQQ:i,isWeibo:n=/Weibo/i.test(s),platform:a?"wechat":i?"qq":n?"weibo":"web"}),j=async()=>{if(navigator.share)try{await navigator.share({title:"SRI性压抑指数评估结果",text:p,url:c}),x(!1);return}catch(e){console.log("Native share cancelled or failed")}},y=async()=>{try{await st(`${p}

${c}`),u(!0),setTimeout(()=>{u(!1),x(!1)},1500)}catch(e){console.error("Failed to copy:",e)}},f=e=>{let s=sr(p,c)[e];s&&(window.open(s,"_blank","width=600,height=400"),x(!1))};return(0,l.jsxs)(sn,{open:m,onOpenChange:x,children:[(0,l.jsx)(sc,{asChild:!0,children:(0,l.jsx)(_,{size:"lg",className:`fixed bottom-6 right-6 z-50 rounded-full h-14 w-14 shadow-lg bg-psychology-primary hover:bg-psychology-primary/90 ${d}`,children:(0,l.jsx)(e4.A,{className:"w-6 h-6"})})}),(0,l.jsxs)(sx,{side:"bottom",className:"h-auto max-h-[80vh] overflow-y-auto",children:[(0,l.jsxs)(sh,{children:[(0,l.jsxs)(su,{className:"flex items-center gap-2",children:[(0,l.jsx)(e4.A,{className:"w-5 h-5 text-psychology-primary"}),"分享我的评估结果"]}),(0,l.jsx)(sp,{children:"选择您喜欢的方式分享SRI评估结果"})]}),(0,l.jsxs)("div",{className:"space-y-6 mt-6",children:[g.isMobile&&navigator.share&&(0,l.jsxs)(_,{onClick:j,className:"w-full h-14 text-lg bg-psychology-primary hover:bg-psychology-primary/90",children:[(0,l.jsx)(e5.A,{className:"w-6 h-6 mr-3"}),"系统分享"]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)(_,{variant:"outline",className:"h-16 flex-col gap-2 bg-orange-50 hover:bg-orange-100 border-orange-200",onClick:()=>f("weibo"),children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-orange-500 rounded flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-white text-sm font-bold",children:"微"})}),(0,l.jsx)("span",{className:"text-sm",children:"微博"})]}),(0,l.jsxs)(_,{variant:"outline",className:"h-16 flex-col gap-2 bg-green-50 hover:bg-green-100 border-green-200",onClick:()=>f("wechat"),children:[(0,l.jsx)(e6.A,{className:"w-8 h-8 text-green-600"}),(0,l.jsx)("span",{className:"text-sm",children:"微信"})]}),(0,l.jsxs)(_,{variant:"outline",className:"h-16 flex-col gap-2 bg-yellow-50 hover:bg-yellow-100 border-yellow-200",onClick:()=>f("qzone"),children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-yellow-500 rounded flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-white text-sm font-bold",children:"Q"})}),(0,l.jsx)("span",{className:"text-sm",children:"QQ空间"})]}),(0,l.jsxs)(_,{variant:"outline",className:"h-16 flex-col gap-2 bg-purple-50 hover:bg-purple-100 border-purple-200",onClick:()=>f("douban"),children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-purple-500 rounded flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-white text-sm font-bold",children:"豆"})}),(0,l.jsx)("span",{className:"text-sm",children:"豆瓣"})]})]}),(0,l.jsx)(_,{variant:"outline",onClick:y,className:`w-full h-12 ${h?"text-green-600 border-green-200 bg-green-50":""}`,children:h?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e8.A,{className:"w-5 h-5 mr-2"}),"已复制到剪贴板！"]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e9.A,{className:"w-5 h-5 mr-2"}),"复制分享链接"]})}),(0,l.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4",children:[(0,l.jsx)("h4",{className:"font-medium text-sm mb-2",children:"分享预览"}),(0,l.jsxs)("p",{className:"text-xs text-muted-foreground leading-relaxed",children:[p.split("\n")[0],"..."]}),(0,l.jsx)(S,{variant:"outline",className:"mt-2 text-xs",children:"匿名分享 \xb7 隐私保护"})]})]})]})]})}function sj(){let e=(0,g.Zp)(),[s]=(0,g.ok)(),t=s.get("sessionId")||s.get("session")||s.get("id"),a="true"===s.get("shared"),i=s.get("data"),n=function(){let[e,s]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: 767px)"),t=()=>{s(window.innerWidth<768)};return e.addEventListener("change",t),s(window.innerWidth<768),()=>e.removeEventListener("change",t)},[]),!!e}(),[c,o]=(0,r.useState)(null),[d,m]=(0,r.useState)(!0),[x,h]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(a&&i)try{let e=function(e){try{let s=atob(e),t=JSON.parse(s);if(!t.sri||"number"!=typeof t.sri.totalScore||!t.sri.level||!t.type)return null;return t}catch(e){return console.error("Failed to decode share data:",e),null}}(i);if(e){let s={id:"shared-session",type:e.type,demographics:{age:"",gender:"",relationshipStatus:"",sexualActivity:"",consentToParticipate:!0},responses:[],results:{sessionId:"shared-session",sri:{totalScore:e.sri.totalScore||0,zScore:0,percentile:0,level:e.sri.level,dimensionScores:e.sri.dimensionScores||{sosReversed:0,sexGuilt:0,sexualShame:0,sisOverSes:0},scaleScores:[]},interpretation:["这是一个分享的评估结果。"],recommendations:["如果您想获得个性化的详细分析，请开始您自己的评估。"],calculatedAt:new Date(e.completedAt)},startTime:new Date(e.completedAt),endTime:new Date(e.completedAt),completed:!0};o(s),m(!1);return}h("分享链接数据无效"),m(!1);return}catch(e){console.error("Error decoding share data:",e),h("无法解析分享链接"),m(!1);return}if(!t){console.log("URL parameters:",Object.fromEntries(s.entries())),console.log("Storage diagnosis:",ey()),h("未找到评估会话ID。请确保从历史记录页面正确访问。"),m(!1);return}console.log("Loading session with ID:",t),console.log("Storage diagnosis:",ey());try{let e=eg(t);if(console.log("Found session:",e?"Yes":"No"),!e){h(`未找到会话ID为 "${t}" 的评估记录。可能已被删除或损坏。`),m(!1);return}if(!e.results){h("该评估尚未完成，无法查看结果。请先完成评估。"),m(!1);return}console.log("Session loaded successfully"),o(e)}catch(s){console.error("Error loading session:",s);let e=s instanceof Error?s.message:"未知错误";h(`加载评估结果时发生错误: ${e}`)}finally{m(!1)}},[t,a,i]);let u=()=>{c&&t&&ej({sessionId:c.id,timestamp:new Date().toISOString(),type:c.type,demographics:c.demographics,results:c.results,responses:c.responses.reduce((e,s)=>(e[s.questionId]=s.value,e),{})},`SRI评估结果_${new Date().toISOString().split("T")[0]}.json`)},p=()=>{e(`/assessment?type=${(null==c?void 0:c.type)||"quick"}`)},N=e=>W[e];if(d)return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-psychology-calm via-white to-psychology-warm flex items-center justify-center",children:(0,l.jsx)(j,{className:"w-full max-w-md p-8",children:(0,l.jsxs)("div",{className:"text-center space-y-4",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-psychology-primary/10 rounded-full flex items-center justify-center mx-auto",children:(0,l.jsx)(eP.A,{className:"w-8 h-8 text-psychology-primary animate-spin"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"加载结果中"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"正在获取您的评估结果..."})]})]})})});if(x||!c||!c.results)return(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-psychology-calm via-white to-psychology-warm flex items-center justify-center p-4",children:(0,l.jsx)(j,{className:"w-full max-w-lg p-8",children:(0,l.jsxs)("div",{className:"text-center space-y-4",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:(0,l.jsx)(eD.A,{className:"w-8 h-8 text-red-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-2 text-red-600",children:"加载失败"}),(0,l.jsx)("p",{className:"text-muted-foreground mb-4 text-sm leading-relaxed",children:x||"未找到评估结果"}),!1,(0,l.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mb-4 text-left",children:[(0,l.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"可能的解决方法:"}),(0,l.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,l.jsx)("li",{children:'• 确保从历史记录页面正确点击"查看结果"'}),(0,l.jsx)("li",{children:"• 检查是否意外删除了评估记录"}),(0,l.jsx)("li",{children:"• 清理浏览器缓存后重新评估"}),(0,l.jsx)("li",{children:"• 如果问题持续，请重新进行评估"})]})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,l.jsxs)(_,{variant:"outline",onClick:()=>e("/history"),children:[(0,l.jsx)(T.A,{className:"w-4 h-4 mr-2"}),"查看历史记录"]}),(0,l.jsxs)(_,{variant:"outline",onClick:()=>e("/"),children:[(0,l.jsx)(P.A,{className:"w-4 h-4 mr-2"}),"返回首页"]}),(0,l.jsxs)(_,{onClick:()=>e("/assessment"),children:[(0,l.jsx)(q.A,{className:"w-4 h-4 mr-2"}),"重新测评"]})]})]})]})})});let v=c.results.sri,w=N(v.level);return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-psychology-calm via-white to-psychology-warm",children:[(0,l.jsx)("nav",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-muted",children:(0,l.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)(_,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"text-muted-foreground hover:text-foreground",children:[(0,l.jsx)(P.A,{className:"w-4 h-4 mr-2"}),"首页"]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(q.A,{className:"w-5 h-5 text-psychology-primary"}),(0,l.jsx)("span",{className:"font-semibold text-psychology-primary",children:"SRI 评估结果"})]})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[n?(0,l.jsx)(si,{session:c}):(0,l.jsx)(sa,{session:c}),(0,l.jsxs)(_,{variant:"outline",size:"sm",onClick:u,className:"text-muted-foreground hidden sm:flex",children:[(0,l.jsx)(eV.A,{className:"w-4 h-4 mr-2"}),"下载报告"]}),(0,l.jsx)(_,{variant:"outline",size:"sm",onClick:u,className:"text-muted-foreground sm:hidden",children:(0,l.jsx)(eV.A,{className:"w-4 h-4"})}),(0,l.jsxs)(_,{variant:"outline",size:"sm",onClick:p,className:"text-muted-foreground hidden sm:flex",children:[(0,l.jsx)(eP.A,{className:"w-4 h-4 mr-2"}),"重新测评"]}),(0,l.jsx)(_,{variant:"outline",size:"sm",onClick:p,className:"text-muted-foreground sm:hidden",children:(0,l.jsx)(eP.A,{className:"w-4 h-4"})})]})]})})}),(0,l.jsxs)("main",{className:"container mx-auto px-4 py-8 space-y-8",children:[(0,l.jsxs)(j,{className:"sri-card border-2 border-psychology-primary/20",children:[(0,l.jsxs)(y,{className:"text-center pb-6",children:[(0,l.jsx)("div",{className:"w-20 h-20 bg-psychology-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)(D.A,{className:"w-10 h-10 text-psychology-primary"})}),(0,l.jsx)(f,{className:"text-2xl sm:text-3xl font-bold text-psychology-primary mb-2",children:"性压抑指数 (SRI)"}),(0,l.jsx)("div",{className:"text-4xl sm:text-6xl font-bold text-psychology-primary mb-4",children:Math.round(v.totalScore)}),(0,l.jsx)(S,{className:`text-lg px-6 py-2 ${(e=>{switch(N(e),e){case"very-low":case"low":return"text-green-600 bg-green-50 border-green-200";case"moderate":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"very-high":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}})(v.level)}`,variant:"outline",children:w.label})]}),(0,l.jsxs)(b,{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("p",{className:"text-muted-foreground mb-4",children:["您的SRI指数为 ",(0,l.jsx)("span",{className:"font-semibold text-psychology-primary",children:Math.round(v.totalScore)}),"， 处于 ",(0,l.jsx)("span",{className:"font-semibold",children:w.label})," 水平"]}),(0,l.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,l.jsx)(J,{value:v.totalScore,className:"h-3 mb-2"}),(0,l.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,l.jsx)("span",{children:"0 (较少压抑)"}),(0,l.jsx)("span",{children:"50 (中等)"}),(0,l.jsx)("span",{children:"100 (较多压抑)"})]})]})]}),(0,l.jsx)(eJ,{}),c.results.interpretation&&c.results.interpretation.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("h3",{className:"font-semibold text-lg mb-3 flex items-center gap-2",children:[(0,l.jsx)(eB.A,{className:"w-5 h-5 text-psychology-primary"}),"结果解释"]}),(0,l.jsx)("div",{className:"space-y-2",children:c.results.interpretation.map((e,s)=>(0,l.jsx)("p",{className:"text-muted-foreground leading-relaxed",children:e},s))})]}),c.results.recommendations&&c.results.recommendations.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("h3",{className:"font-semibold text-lg mb-3 flex items-center gap-2",children:[(0,l.jsx)(eW.A,{className:"w-5 h-5 text-psychology-primary"}),"个性化建议"]}),(0,l.jsx)("div",{className:"space-y-2",children:c.results.recommendations.map((e,s)=>(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)(F.A,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),(0,l.jsx)("p",{className:"text-muted-foreground leading-relaxed",children:e})]},s))})]})]})]}),(0,l.jsxs)(j,{className:"sri-card",children:[(0,l.jsx)(y,{children:(0,l.jsxs)(f,{className:"flex items-center gap-2",children:[(0,l.jsx)(D.A,{className:"w-5 h-5 text-psychology-primary"}),"四维度分析"]})}),(0,l.jsx)(b,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("span",{className:"font-medium",children:"性观感反向 (SOS)"}),(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:v.dimensionScores.sosReversed.toFixed(2)})]}),(0,l.jsx)(J,{value:20*Math.abs(v.dimensionScores.sosReversed),className:"h-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("span",{className:"font-medium",children:"性内疚 (Guilt)"}),(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:v.dimensionScores.sexGuilt.toFixed(2)})]}),(0,l.jsx)(J,{value:20*Math.abs(v.dimensionScores.sexGuilt),className:"h-2"})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("span",{className:"font-medium",children:"性羞耻 (Shame)"}),(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:v.dimensionScores.sexualShame.toFixed(2)})]}),(0,l.jsx)(J,{value:20*Math.abs(v.dimensionScores.sexualShame),className:"h-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,l.jsx)("span",{className:"font-medium",children:"抑制优势 (SIS/SES)"}),(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:v.dimensionScores.sisOverSes.toFixed(2)})]}),(0,l.jsx)(J,{value:20*Math.abs(v.dimensionScores.sisOverSes),className:"h-2"})]})]})]})})]}),(0,l.jsxs)(j,{className:"sri-card",children:[(0,l.jsx)(y,{children:(0,l.jsxs)(f,{className:"flex items-center gap-2",children:[(0,l.jsx)(M.A,{className:"w-5 h-5 text-psychology-primary"}),"详细分数"]})}),(0,l.jsx)(b,{children:(0,l.jsx)("div",{className:"space-y-4",children:v.scaleScores.map(e=>{let s=en[e.scaleId];return s?(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium",children:s.name}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:s.description})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("div",{className:"text-lg font-semibold",children:e.rawScore}),(0,l.jsxs)("div",{className:"text-xs text-muted-foreground",children:["z: ",e.zScore.toFixed(2)]}),(0,l.jsxs)("div",{className:"text-xs text-muted-foreground",children:["第",e.percentile.toFixed(0),"百分位"]})]})]},e.scaleId):null})})})]}),(0,l.jsxs)(j,{className:"sri-card",children:[(0,l.jsx)(y,{children:(0,l.jsx)(f,{className:"text-lg",children:"评估信息"})}),(0,l.jsx)(b,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-muted-foreground",children:"评估类型:"}),(0,l.jsx)("span",{className:"ml-2 font-medium",children:"quick"===c.type?"快速测评":"完整测评"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-muted-foreground",children:"完成时间:"}),(0,l.jsx)("span",{className:"ml-2 font-medium",children:c.endTime?new Date(c.endTime).toLocaleString("zh-CN"):"未知"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-muted-foreground",children:"回答题数:"}),(0,l.jsxs)("span",{className:"ml-2 font-medium",children:[c.responses.length," 题"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-muted-foreground",children:"会话ID:"}),(0,l.jsx)("span",{className:"ml-2 font-mono text-xs",children:c.id})]})]})})]}),(0,l.jsx)(j,{className:"sri-card border-yellow-200 bg-yellow-50/50",children:(0,l.jsx)(b,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[(0,l.jsx)(eD.A,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsx)("h4",{className:"font-semibold text-yellow-800",children:"重要声明"}),(0,l.jsx)("p",{className:"text-yellow-700 leading-relaxed",children:"本测评结果仅供参考，不构成医学诊断。SRI指数是基于科学研究的心理测量工具， 旨在帮助您了解自己的性心理特征。如果您对结果有疑问或需要专业帮助， 建议咨询专业的心理健康专家。"}),(0,l.jsx)("p",{className:"text-yellow-700 leading-relaxed",children:"您的所有数据都安全地保存在本地设备上，我们不会收集或传输您的个人信息。"})]})]})})}),a&&(0,l.jsx)(j,{className:"sri-card border-psychology-primary/30 bg-psychology-primary/5",children:(0,l.jsx)(b,{className:"p-6",children:(0,l.jsxs)("div",{className:"text-center space-y-4",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-psychology-primary/10 rounded-full flex items-center justify-center mx-auto",children:(0,l.jsx)(q.A,{className:"w-8 h-8 text-psychology-primary"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-psychology-primary mb-2",children:"欢迎体验SRI性压抑指数评估"}),(0,l.jsx)("p",{className:"text-muted-foreground mb-4",children:"这是一个由朋友分享的评估结果。想要获得属于自己的专业心理分析吗？"}),(0,l.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,l.jsxs)(_,{onClick:()=>e("/assessment"),className:"bg-psychology-primary hover:bg-psychology-primary/90",children:[(0,l.jsx)(q.A,{className:"w-4 h-4 mr-2"}),"开始我的评估"]}),(0,l.jsxs)(_,{variant:"outline",onClick:()=>e("/"),children:[(0,l.jsx)(P.A,{className:"w-4 h-4 mr-2"}),"了解更多"]})]})]})]})})}),(0,l.jsxs)("div",{className:"flex justify-center gap-4 pt-6",children:[(0,l.jsxs)(_,{variant:"outline",onClick:()=>e("/"),children:[(0,l.jsx)(P.A,{className:"w-4 h-4 mr-2"}),"返回首页"]}),!a&&(0,l.jsxs)(_,{onClick:p,className:"bg-psychology-primary hover:bg-psychology-primary/90",children:[(0,l.jsx)(eP.A,{className:"w-4 h-4 mr-2"}),"重新测评"]}),!n&&!a&&(0,l.jsx)(sa,{session:c,className:"bg-psychology-accent hover:bg-psychology-accent/90 text-white border-psychology-accent"})]})]}),n&&!a&&(0,l.jsx)(sg,{session:c})]})}sp.displayName=eG.VY.displayName,CanvasRenderingContext2D.prototype.roundRect||(CanvasRenderingContext2D.prototype.roundRect=function(e,s,t,l,r){this.beginPath(),this.moveTo(e+r,s),this.lineTo(e+t-r,s),this.quadraticCurveTo(e+t,s,e+t,s+r),this.lineTo(e+t,s+l-r),this.quadraticCurveTo(e+t,s+l,e+t-r,s+l),this.lineTo(e+r,s+l),this.quadraticCurveTo(e,s+l,e,s+l-r),this.lineTo(e,s+r),this.quadraticCurveTo(e,s,e+r,s),this.closePath()});var sy=t(3598);function sf(){return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-psychology-calm via-background to-psychology-warm",children:[(0,l.jsxs)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[(0,l.jsx)("div",{className:"absolute top-20 left-10 w-32 h-32 bg-psychology-primary/5 rounded-full blur-xl"}),(0,l.jsx)("div",{className:"absolute top-40 right-16 w-24 h-24 bg-psychology-accent/5 rounded-full blur-lg"}),(0,l.jsx)("div",{className:"absolute bottom-32 left-1/3 w-40 h-40 bg-psychology-secondary/5 rounded-full blur-xl"})]}),(0,l.jsx)("nav",{className:"relative z-10 bg-white/80 backdrop-blur-sm border-b border-border/50",children:(0,l.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,l.jsxs)(g.N_,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[(0,l.jsx)(q.A,{className:"w-8 h-8 text-psychology-primary"}),(0,l.jsx)("span",{className:"text-xl font-semibold text-foreground",children:"SRI Calculator"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)(g.N_,{to:"/",className:"text-muted-foreground hover:text-foreground transition-colors",children:"首页"}),(0,l.jsx)(g.N_,{to:"/science",className:"text-muted-foreground hover:text-foreground transition-colors",children:"科学依据"})]})]})})}),(0,l.jsxs)("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,l.jsxs)("div",{className:"text-center mb-12",children:[(0,l.jsx)(O.A,{className:"w-16 h-16 text-psychology-primary mx-auto mb-6"}),(0,l.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"使用指南"}),(0,l.jsx)("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"详细了解如何正确使用性压抑指数(SRI)评估工具，获得准确可靠的测评结果"})]}),(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)(j,{className:"sri-card",children:[(0,l.jsx)(y,{children:(0,l.jsxs)(f,{className:"flex items-center gap-3",children:[(0,l.jsx)(z.A,{className:"w-6 h-6 text-psychology-primary"}),"快速开始"]})}),(0,l.jsx)(b,{className:"space-y-6",children:(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(S,{variant:"secondary",className:"bg-psychology-primary/10 text-psychology-primary",children:"快测版"}),(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:"推荐首次使用"})]}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(T.A,{className:"w-4 h-4 text-psychology-secondary"}),(0,l.jsx)("span",{children:"约 8-15 分钟"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(A.A,{className:"w-4 h-4 text-psychology-secondary"}),(0,l.jsx)("span",{children:"39 道核心题目"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F.A,{className:"w-4 h-4 text-psychology-success"}),(0,l.jsx)("span",{children:"涵盖四个核心维度"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)(S,{variant:"secondary",className:"bg-psychology-accent/10 text-psychology-accent",children:"完整版"}),(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:"深度分析"})]}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(T.A,{className:"w-4 h-4 text-psychology-secondary"}),(0,l.jsx)("span",{children:"约 25-40 分钟"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(A.A,{className:"w-4 h-4 text-psychology-secondary"}),(0,l.jsx)("span",{children:"78 道详细题目"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(q.A,{className:"w-4 h-4 text-psychology-accent"}),(0,l.jsx)("span",{children:"更全面的心理分析"})]})]})]})]})})]}),(0,l.jsxs)(j,{className:"sri-card",children:[(0,l.jsx)(y,{children:(0,l.jsxs)(f,{className:"flex items-center gap-3",children:[(0,l.jsx)(E.A,{className:"w-6 h-6 text-psychology-secondary"}),"测评流程"]})}),(0,l.jsx)(b,{children:(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsx)("div",{className:"grid gap-4",children:[{step:1,title:"知情同意",desc:"阅读并同意参与测评的条款",icon:M.A},{step:2,title:"基本信息",desc:"填写必要的人口学信息（完全匿名）",icon:R.A},{step:3,title:"问卷作答",desc:"按照个人实际情况诚实回答问题",icon:A.A},{step:4,title:"查看结果",desc:"获得详细的SRI指数分析报告",icon:q.A}].map(e=>{let{step:s,title:t,desc:r,icon:a}=e;return(0,l.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-muted/30 rounded-lg",children:[(0,l.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-psychology-primary text-white rounded-full flex items-center justify-center text-sm font-semibold",children:s}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,l.jsx)(a,{className:"w-5 h-5 text-psychology-primary"}),(0,l.jsx)("h4",{className:"font-semibold text-foreground",children:t})]}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:r})]})]},s)})})})})]}),(0,l.jsxs)(j,{className:"sri-card",children:[(0,l.jsx)(y,{children:(0,l.jsxs)(f,{className:"flex items-center gap-3",children:[(0,l.jsx)(sy.A,{className:"w-6 h-6 text-psychology-warning"}),"答题建议"]})}),(0,l.jsx)(b,{className:"space-y-4",children:(0,l.jsx)("div",{className:"grid gap-4",children:[{title:"诚实作答",desc:"请根据您的真实想法和感受作答，没有标准答案",icon:I.A,color:"text-psychology-success"},{title:"直觉反应",desc:"相信第一直觉，不要过度思考每个问题",icon:q.A,color:"text-psychology-primary"},{title:"完整作答",desc:"尽量完成所有问题，跳过太多会影响结果准确性",icon:z.A,color:"text-psychology-secondary"},{title:"隐私环境",desc:"在私密、不被打扰的环境中完成测评",icon:M.A,color:"text-psychology-accent"}].map(e=>{let{title:s,desc:t,icon:r,color:a}=e;return(0,l.jsxs)("div",{className:"flex items-start gap-3 p-3 border border-border/50 rounded-lg",children:[(0,l.jsx)(r,{className:`w-5 h-5 ${a} mt-0.5 flex-shrink-0`}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-foreground mb-1",children:s}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:t})]})]},s)})})})]}),(0,l.jsxs)(j,{className:"sri-card border-psychology-warning/20",children:[(0,l.jsx)(y,{children:(0,l.jsxs)(f,{className:"flex items-center gap-3 text-psychology-warning",children:[(0,l.jsx)(B.A,{className:"w-6 h-6"}),"重要注意事项"]})}),(0,l.jsx)(b,{className:"space-y-4",children:(0,l.jsx)("div",{className:"bg-psychology-warning/5 border border-psychology-warning/20 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-psychology-warning rounded-full mt-2 flex-shrink-0"}),(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"非诊断工具："}),"SRI指数仅供自我了解和学术研究，不能替代专业心理咨询或医疗诊断"]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-psychology-warning rounded-full mt-2 flex-shrink-0"}),(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"隐私保护："}),"所有数据仅在您的设备本地存储，不会上传到任何服务器"]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-psychology-warning rounded-full mt-2 flex-shrink-0"}),(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"适用年龄："}),"本测评适用于18岁以上成年人，未成年人请在监护人指导下使用"]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-psychology-warning rounded-full mt-2 flex-shrink-0"}),(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"心理健康："}),"如果在测评过程中感到强烈不适，请立即停止并寻求专业帮助"]})]})]})})})]}),(0,l.jsxs)(j,{className:"sri-card",children:[(0,l.jsx)(y,{children:(0,l.jsxs)(f,{className:"flex items-center gap-3",children:[(0,l.jsx)(eB.A,{className:"w-6 h-6 text-psychology-secondary"}),"结果解读指南"]})}),(0,l.jsx)(b,{className:"space-y-4",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-foreground mb-2",children:"SRI指数范围"}),(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 text-sm",children:[{range:"0-20",label:"很低",color:"bg-psychology-success/10 text-psychology-success"},{range:"20-40",label:"偏低",color:"bg-green-100 text-green-700"},{range:"40-60",label:"中等",color:"bg-yellow-100 text-yellow-700"},{range:"60-80",label:"偏高",color:"bg-psychology-warning/10 text-psychology-warning"},{range:"80-100",label:"很高",color:"bg-psychology-danger/10 text-psychology-danger"}].map(e=>{let{range:s,label:t,color:r}=e;return(0,l.jsxs)("div",{className:`p-2 rounded text-center ${r}`,children:[(0,l.jsx)("div",{className:"font-medium",children:s}),(0,l.jsx)("div",{className:"text-xs",children:t})]},s)})})]}),(0,l.jsx)(eJ,{}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-foreground mb-2",children:"四个维度"}),(0,l.jsx)("div",{className:"grid md:grid-cols-2 gap-3 text-sm",children:[{name:"性观感反向",desc:"对性刺激的消极情绪反应"},{name:"性内疚",desc:"性相关的内疚感和道德负担"},{name:"性羞耻",desc:"性身份和行为的羞耻体验"},{name:"抑制优势",desc:"性抑制相对于性兴奋的优势程度"}].map(e=>{let{name:s,desc:t}=e;return(0,l.jsxs)("div",{className:"p-3 bg-muted/30 rounded",children:[(0,l.jsx)("div",{className:"font-medium text-foreground",children:s}),(0,l.jsx)("div",{className:"text-muted-foreground",children:t})]},s)})})]})]})})]}),(0,l.jsxs)("div",{className:"text-center space-y-4",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[(0,l.jsx)(_,{size:"lg",asChild:!0,className:"bg-psychology-primary hover:bg-psychology-primary/90",children:(0,l.jsxs)(g.N_,{to:"/assessment?type=quick",className:"flex items-center gap-2",children:[(0,l.jsx)(q.A,{className:"w-5 h-5"}),"开始快速测评"]})}),(0,l.jsx)(_,{size:"lg",variant:"outline",asChild:!0,children:(0,l.jsxs)(g.N_,{to:"/assessment?type=full",className:"flex items-center gap-2",children:[(0,l.jsx)(A.A,{className:"w-5 h-5"}),"完整版测评"]})})]}),(0,l.jsx)(_,{variant:"ghost",asChild:!0,children:(0,l.jsxs)(g.N_,{to:"/",className:"flex items-center gap-2",children:[(0,l.jsx)(P.A,{className:"w-4 h-4"}),"返回首页"]})})]})]})]})]})}var sb=t(4221),sN=t(4180),sv=t(684);function sw(){return(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-psychology-calm via-background to-psychology-warm",children:[(0,l.jsxs)("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[(0,l.jsx)("div",{className:"absolute top-32 right-20 w-28 h-28 bg-psychology-accent/5 rounded-full blur-xl"}),(0,l.jsx)("div",{className:"absolute bottom-40 left-16 w-36 h-36 bg-psychology-primary/5 rounded-full blur-xl"}),(0,l.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-48 h-48 bg-psychology-secondary/3 rounded-full blur-2xl"})]}),(0,l.jsx)("nav",{className:"relative z-10 bg-white/80 backdrop-blur-sm border-b border-border/50",children:(0,l.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,l.jsxs)(g.N_,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[(0,l.jsx)(q.A,{className:"w-8 h-8 text-psychology-primary"}),(0,l.jsx)("span",{className:"text-xl font-semibold text-foreground",children:"SRI Calculator"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)(g.N_,{to:"/",className:"text-muted-foreground hover:text-foreground transition-colors",children:"首页"}),(0,l.jsx)(g.N_,{to:"/guide",className:"text-muted-foreground hover:text-foreground transition-colors",children:"使用指南"})]})]})})}),(0,l.jsxs)("div",{className:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,l.jsxs)("div",{className:"text-center mb-12",children:[(0,l.jsx)(sb.A,{className:"w-16 h-16 text-psychology-primary mx-auto mb-6"}),(0,l.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-4",children:"科学依据"}),(0,l.jsx)("p",{className:"text-xl text-muted-foreground max-w-3xl mx-auto",children:"基于严谨的心理学研究和经典量表构建的性压抑指数评估体系"})]}),(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)(j,{className:"sri-card",children:[(0,l.jsx)(y,{children:(0,l.jsxs)(f,{className:"flex items-center gap-3",children:[(0,l.jsx)(q.A,{className:"w-6 h-6 text-psychology-primary"}),"理论基础"]})}),(0,l.jsx)(b,{className:"space-y-6",children:(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"双控制模型 (Dual Control Model)"}),(0,l.jsx)("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"由Janssen等人(2002)提出的性反应双控制模型，认为人类性反应受到性兴奋系统(SES)和性抑制系统(SIS)的双重调节。 该模型为理解个体性行为差异提供了重要的理论框架。"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(sN.A,{className:"w-4 h-4 text-psychology-warning"}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"国际权威理论"})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"性压抑概念"}),(0,l.jsx)("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"性压抑是指个体对性冲动、性欲望和性行为的系统性抑制，通常源于心理、社会文化和道德因素的综合影响。 现代心理学研究表明，适度的性抑制是正常的，但过度压抑可能影响心理健康。"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(F.A,{className:"w-4 h-4 text-psychology-success"}),(0,l.jsx)("span",{className:"text-sm font-medium",children:"循证支持"})]})]})]})})]}),(0,l.jsxs)(j,{className:"sri-card",children:[(0,l.jsx)(y,{children:(0,l.jsxs)(f,{className:"flex items-center gap-3",children:[(0,l.jsx)(D.A,{className:"w-6 h-6 text-psychology-secondary"}),"量表构成"]})}),(0,l.jsx)(b,{children:(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsx)("div",{className:"grid gap-6",children:[{name:"SIS/SES-SF",fullName:"性抑制/性兴奋量表简版",items:"14项",author:"Janssen et al. (2002)",reliability:"α = 0.84-0.91",desc:"测量性抑制和性兴奋系统的敏感性，包括性能表现相关抑制(SIS1)和威胁/恐惧相关抑制(SIS2)两个维度。",color:"bg-psychology-primary/10 border-psychology-primary/20"},{name:"Mosher性内疚量表",fullName:"Mosher Sexual Guilt Scale",items:"10项",author:"Mosher (1988)",reliability:"α = 0.88-0.93",desc:"评估个体对性行为和性想法的内疚感程度，反映道德化性压抑的核心特征。",color:"bg-psychology-secondary/10 border-psychology-secondary/20"},{name:"KISS-9性羞耻量表",fullName:"Kyle Inventory of Sexual Shame",items:"9项",author:"Kyle et al. (2013)",reliability:"α = 0.92-0.95",desc:"测量个体对性身份、性想法和性行为的羞耻体验，捕捉深层的性自我概念问题。",color:"bg-psychology-accent/10 border-psychology-accent/20"},{name:"SOS性观感量表",fullName:"Sexual Opinion Survey",items:"5项筛查版",author:"Fisher et al. (1988)",reliability:"α = 0.82-0.89",desc:"评估个体对性刺激和性相关内容的情绪取向，测量性开放性与保守性。",color:"bg-psychology-warning/10 border-psychology-warning/20"}].map(e=>(0,l.jsx)(j,{className:`${e.color} border`,children:(0,l.jsx)(b,{className:"p-4",children:(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-foreground",children:e.name}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:e.fullName})]}),(0,l.jsx)(S,{variant:"secondary",children:e.items})]}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.desc}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"作者："}),e.author]}),(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"信度："}),e.reliability]})]})]})})},e.name))})})})]}),(0,l.jsxs)(j,{className:"sri-card",children:[(0,l.jsx)(y,{children:(0,l.jsxs)(f,{className:"flex items-center gap-3",children:[(0,l.jsx)(z.A,{className:"w-6 h-6 text-psychology-accent"}),"SRI指数计算方法"]})}),(0,l.jsx)(b,{className:"space-y-6",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"bg-muted/30 p-4 rounded-lg",children:[(0,l.jsx)("h4",{className:"font-semibold text-foreground mb-2",children:"四维度标准化"}),(0,l.jsxs)("div",{className:"text-sm text-muted-foreground space-y-2",children:[(0,l.jsxs)("div",{children:["1. ",(0,l.jsx)("strong",{children:"性观感反向"}),"：SOS分数反向转换，高分表示对性刺激的消极反应"]}),(0,l.jsxs)("div",{children:["2. ",(0,l.jsx)("strong",{children:"性内疚"}),"：Mosher量表原始分数，反映道德化性压抑"]}),(0,l.jsxs)("div",{children:["3. ",(0,l.jsx)("strong",{children:"性羞耻"}),"：KISS-9分数，测量性身份羞耻体验"]}),(0,l.jsxs)("div",{children:["4. ",(0,l.jsx)("strong",{children:"抑制优势"}),"：(SIS1+SIS2-SES)差值，反映抑制相对兴奋的优势"]})]})]}),(0,l.jsxs)("div",{className:"bg-muted/30 p-4 rounded-lg",children:[(0,l.jsx)("h4",{className:"font-semibold text-foreground mb-2",children:"z分数标准化"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"采用基于人群常模的z分数标准化方法，将各维度分数转换为标准正态分布， 确保不同量表分数的可比性和合成指数的统计学意义。"})]}),(0,l.jsxs)("div",{className:"bg-muted/30 p-4 rounded-lg",children:[(0,l.jsx)("h4",{className:"font-semibold text-foreground mb-2",children:"SRI合成计算"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"通过等权重合成四个维度的z分数，再经过标准正态累积分布函数(CDF)转换为0-100的百分位数， 提供直观易懂的性压抑指数。"})]})]})})]}),(0,l.jsxs)(j,{className:"sri-card",children:[(0,l.jsx)(y,{children:(0,l.jsxs)(f,{className:"flex items-center gap-3",children:[(0,l.jsx)(M.A,{className:"w-6 h-6 text-psychology-success"}),"信效度证据"]})}),(0,l.jsx)(b,{children:(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h4",{className:"font-semibold text-foreground",children:"信度指标"}),(0,l.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[(0,l.jsx)("span",{children:"内部一致性"}),(0,l.jsx)(S,{variant:"secondary",children:"α > 0.80"})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[(0,l.jsx)("span",{children:"重测信度"}),(0,l.jsx)(S,{variant:"secondary",children:"r > 0.75"})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[(0,l.jsx)("span",{children:"分半信度"}),(0,l.jsx)(S,{variant:"secondary",children:"r > 0.78"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("h4",{className:"font-semibold text-foreground",children:"效度证据"}),(0,l.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[(0,l.jsx)("span",{children:"结构效度"}),(0,l.jsx)(S,{variant:"secondary",children:"CFI > 0.90"})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[(0,l.jsx)("span",{children:"聚合效度"}),(0,l.jsx)(S,{variant:"secondary",children:"AVE > 0.50"})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center p-2 bg-muted/30 rounded",children:[(0,l.jsx)("span",{children:"区分效度"}),(0,l.jsx)(S,{variant:"secondary",children:"√AVE > r"})]})]})]})]})})]}),(0,l.jsxs)(j,{className:"sri-card",children:[(0,l.jsx)(y,{children:(0,l.jsxs)(f,{className:"flex items-center gap-3",children:[(0,l.jsx)(sv.A,{className:"w-6 h-6 text-psychology-secondary"}),"研究应用"]})}),(0,l.jsx)(b,{children:(0,l.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:[{title:"性心理研究",desc:"用于性态度、性行为和性心理健康的实证研究",icon:q.A,count:"500+"},{title:"临床评估",desc:"辅助性功能障碍和性心理问题的临床评估",icon:A.A,count:"200+"},{title:"文化比较",desc:"跨文化性观念和性行为模式的比较研究",icon:R.A,count:"150+"}].map(e=>{let{title:s,desc:t,icon:r,count:a}=e;return(0,l.jsxs)("div",{className:"text-center p-4 bg-muted/30 rounded-lg",children:[(0,l.jsx)(r,{className:"w-8 h-8 text-psychology-primary mx-auto mb-3"}),(0,l.jsx)("h4",{className:"font-semibold text-foreground mb-2",children:s}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:t}),(0,l.jsxs)(S,{variant:"outline",children:[a," 研究"]})]},s)})})})]}),(0,l.jsxs)(j,{className:"sri-card border-psychology-warning/20",children:[(0,l.jsx)(y,{children:(0,l.jsxs)(f,{className:"flex items-center gap-3 text-psychology-warning",children:[(0,l.jsx)(eW.A,{className:"w-6 h-6"}),"使用限制与说明"]})}),(0,l.jsx)(b,{children:(0,l.jsx)("div",{className:"bg-psychology-warning/5 border border-psychology-warning/20 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-psychology-warning rounded-full mt-2 flex-shrink-0"}),(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"常模限制："}),"当前使用的是基于西方样本的参考常模，在中文文化背景下的适用性需要进一步验证"]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-psychology-warning rounded-full mt-2 flex-shrink-0"}),(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"测量误差："}),"所有心理测量工具都存在测量误差，结果应结合其他信息综合解释"]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-psychology-warning rounded-full mt-2 flex-shrink-0"}),(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"动态变化："}),"性压抑水平可能随时间、经历和环境变化，单次测评结果不代表永久特征"]})]}),(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-psychology-warning rounded-full mt-2 flex-shrink-0"}),(0,l.jsxs)("span",{children:[(0,l.jsx)("strong",{children:"研究用途："}),"主要用于学术研究和自我了解，不应用于临床诊断或重要决策"]})]})]})})})]}),(0,l.jsxs)("div",{className:"text-center space-y-4",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[(0,l.jsx)(_,{size:"lg",asChild:!0,className:"bg-psychology-primary hover:bg-psychology-primary/90",children:(0,l.jsxs)(g.N_,{to:"/guide",className:"flex items-center gap-2",children:[(0,l.jsx)(O.A,{className:"w-5 h-5"}),"查看使用指南"]})}),(0,l.jsx)(_,{size:"lg",variant:"outline",asChild:!0,children:(0,l.jsxs)(g.N_,{to:"/assessment",className:"flex items-center gap-2",children:[(0,l.jsx)(q.A,{className:"w-5 h-5"}),"开始测评"]})})]}),(0,l.jsx)(_,{variant:"ghost",asChild:!0,children:(0,l.jsxs)(g.N_,{to:"/",className:"flex items-center gap-2",children:[(0,l.jsx)(P.A,{className:"w-4 h-4"}),"返回首页"]})})]})]})]})]})}var s_=t(1759);let sk=s_.bL,sS=s_.l9,sq=s_.ZL,sO=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(s_.hJ,{className:x("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s})});sO.displayName=s_.hJ.displayName;let sA=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsxs)(sq,{children:[(0,l.jsx)(sO,{}),(0,l.jsx)(s_.UC,{ref:s,className:x("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]})});sA.displayName=s_.UC.displayName;let sC=e=>{let{className:s,...t}=e;return(0,l.jsx)("div",{className:x("flex flex-col space-y-2 text-center sm:text-left",s),...t})};sC.displayName="AlertDialogHeader";let sI=e=>{let{className:s,...t}=e;return(0,l.jsx)("div",{className:x("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};sI.displayName="AlertDialogFooter";let sR=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(s_.hE,{ref:s,className:x("text-lg font-semibold",t),...r})});sR.displayName=s_.hE.displayName;let s$=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(s_.VY,{ref:s,className:x("text-sm text-muted-foreground",t),...r})});s$.displayName=s_.VY.displayName;let sE=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(s_.rc,{ref:s,className:x(w(),t),...r})});sE.displayName=s_.rc.displayName;let sz=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(s_.ZD,{ref:s,className:x(w({variant:"outline"}),"mt-2 sm:mt-0",t),...r})});sz.displayName=s_.ZD.displayName;var sT=t(2307),sD=t(2708);function sM(){let[e,s]=(0,r.useState)([]),[t,a]=(0,r.useState)(!0);(0,r.useEffect)(()=>{try{let e=ep();s(e)}catch(e){console.error("加载历史记录失败:",e)}finally{a(!1)}},[]);let i=e=>{try{let s=ep().filter(e=>e.completed&&e.results).map(e=>(function(e){let s=eg(e);if(!s||!s.results)return null;let t={};return s.responses.forEach(e=>{t[e.questionId]=e.value}),{sessionId:btoa(e).slice(0,8),timestamp:s.startTime.toISOString(),type:s.type,demographics:{age:s.demographics.age,gender:s.demographics.gender,relationshipStatus:s.demographics.relationshipStatus,sexualActivity:s.demographics.sexualActivity,consentToParticipate:!0},responses:t,results:{sriScore:s.results.sri.totalScore,sriLevel:s.results.sri.level,dimensions:s.results.sri.dimensionScores}}})(e.id)).filter(Boolean),t=new Date().toISOString().split("T")[0];"json"===e?ej(s,`sri-assessment-history-${t}.json`):function(e,s){try{if(0===e.length)throw Error("没有数据可导出");let t=e.map(e=>[e.sessionId,e.timestamp,"quick"===e.type?"快测版":"完整版",e.demographics.age,e.demographics.gender,e.demographics.relationshipStatus,e.demographics.sexualActivity,e.results.sriScore,e.results.sriLevel,e.results.dimensions.sosReversed.toFixed(2),e.results.dimensions.sexGuilt.toFixed(2),e.results.dimensions.sexualShame.toFixed(2),e.results.dimensions.sisOverSes.toFixed(2)]),l=[["会话ID","时间戳","测评类型","年龄段","性别","关系状态","性活跃度","SRI分数","SRI等级","性恐惧维度","性内疚维度","性羞耻维度","抑制优势维度"],...t].map(e=>e.map(e=>`"${e}"`).join(",")).join("\n"),r=new Blob(["\uFEFF"+l],{type:"text/csv;charset=utf-8"}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(a)}catch(e){throw console.error("Error downloading CSV:",e),Error("无法下载CSV文件")}}(s,`sri-assessment-history-${t}.csv`)}catch(e){console.error("导出数据失败:",e)}},n={total:e.length,completed:e.filter(e=>e.completed).length,quick:e.filter(e=>"quick"===e.type).length,full:e.filter(e=>"full"===e.type).length,avgScore:e.filter(e=>e.results).length>0?Math.round(e.filter(e=>e.results).reduce((e,s)=>{var t;return e+((null==(t=s.results)?void 0:t.sri.totalScore)||0)},0)/e.filter(e=>e.results).length):0};return t?(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-psychology-calm to-psychology-warm flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(eP.A,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-psychology-primary"}),(0,l.jsx)("p",{className:"text-lg text-muted-foreground",children:"加载历史记录..."})]})}):(0,l.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-psychology-calm to-psychology-warm",children:[(0,l.jsx)("div",{className:"bg-white/80 backdrop-blur-sm border-b border-border/50 sticky top-0 z-40",children:(0,l.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-psychology-primary rounded-xl flex items-center justify-center",children:(0,l.jsx)(T.A,{className:"w-6 h-6 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"测评历史"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"查看和管理您的评估记录"})]})]}),(0,l.jsx)(_,{asChild:!0,variant:"outline",children:(0,l.jsxs)(g.N_,{to:"/",className:"flex items-center gap-2",children:[(0,l.jsx)(P.A,{className:"w-4 h-4"}),"返回首页"]})})]})})}),(0,l.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:0===e.length?(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-psychology-primary/10 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,l.jsx)(eD.A,{className:"w-12 h-12 text-psychology-primary"})}),(0,l.jsx)("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"暂无测评记录"}),(0,l.jsx)("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:"您还没有完成任何测评。开始您的第一次性压抑指数评估，探索更深层的自我认知。"}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,l.jsx)(_,{asChild:!0,size:"lg",className:"bg-psychology-primary hover:bg-psychology-primary/90",children:(0,l.jsxs)(g.N_,{to:"/assessment?type=quick",className:"flex items-center gap-2",children:[(0,l.jsx)(D.A,{className:"w-5 h-5"}),"开始快测版"]})}),(0,l.jsx)(_,{asChild:!0,variant:"outline",size:"lg",children:(0,l.jsxs)(g.N_,{to:"/assessment?type=full",className:"flex items-center gap-2",children:[(0,l.jsx)(A.A,{className:"w-5 h-5"}),"开始完整版"]})})]})]}):(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,l.jsx)(j,{children:(0,l.jsx)(b,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"总测评次数"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-psychology-primary",children:n.total})]}),(0,l.jsx)(sT.A,{className:"w-8 h-8 text-psychology-primary/60"})]})})}),(0,l.jsx)(j,{children:(0,l.jsx)(b,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"完成测评"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-psychology-success",children:n.completed})]}),(0,l.jsx)(D.A,{className:"w-8 h-8 text-psychology-success/60"})]})})}),(0,l.jsx)(j,{children:(0,l.jsx)(b,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"平均SRI指数"}),(0,l.jsx)("p",{className:"text-2xl font-bold text-psychology-accent",children:n.avgScore})]}),(0,l.jsx)(eW.A,{className:"w-8 h-8 text-psychology-accent/60"})]})})}),(0,l.jsx)(j,{children:(0,l.jsx)(b,{className:"p-6",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"测评类型"}),(0,l.jsxs)("p",{className:"text-sm",children:[(0,l.jsx)("span",{className:"text-psychology-primary font-semibold",children:n.quick})," 快测 /",(0,l.jsx)("span",{className:"text-psychology-secondary font-semibold",children:n.full})," 完整"]})]}),(0,l.jsx)(R.A,{className:"w-8 h-8 text-muted-foreground/60"})]})})})]}),(0,l.jsxs)(j,{children:[(0,l.jsx)(y,{children:(0,l.jsxs)(f,{className:"flex items-center gap-2",children:[(0,l.jsx)(eV.A,{className:"w-5 h-5"}),"数据管理"]})}),(0,l.jsx)(b,{children:(0,l.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,l.jsxs)(_,{onClick:()=>i("json"),variant:"outline",className:"flex items-center gap-2",children:[(0,l.jsx)(eV.A,{className:"w-4 h-4"}),"导出JSON"]}),(0,l.jsxs)(_,{onClick:()=>i("csv"),variant:"outline",className:"flex items-center gap-2",children:[(0,l.jsx)(eV.A,{className:"w-4 h-4"}),"导出CSV"]}),(0,l.jsxs)(sk,{children:[(0,l.jsx)(sS,{asChild:!0,children:(0,l.jsxs)(_,{variant:"destructive",className:"flex items-center gap-2",children:[(0,l.jsx)(sD.A,{className:"w-4 h-4"}),"清除所有记录"]})}),(0,l.jsxs)(sA,{children:[(0,l.jsxs)(sC,{children:[(0,l.jsx)(sR,{children:"确认清除所有记录"}),(0,l.jsx)(s$,{children:"此操作将永久删除所有测评历史记录，无法恢复。您确定要继续吗？"})]}),(0,l.jsxs)(sI,{children:[(0,l.jsx)(sz,{children:"取消"}),(0,l.jsx)(sE,{onClick:()=>{try{let e;(e=ex()).sessions=[],eh(e),s([])}catch(e){console.error("清除所有记录失败:",e)}},children:"确认删除"})]})]})]})]})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("h2",{className:"text-xl font-semibold text-foreground flex items-center gap-2",children:[(0,l.jsx)(A.A,{className:"w-5 h-5"}),"测评记录"]}),e.map(e=>{let t=e.results?(e=>{for(let[s,t]of Object.entries(W))if(e>=t.min&&e<t.max)return{level:s,...t};return{level:"moderate",...W.moderate}})(e.results.sri.totalScore):null,r=e.endTime&&e.startTime?Math.round((e.endTime.getTime()-e.startTime.getTime())/6e4):null;return(0,l.jsx)(j,{className:"hover:shadow-lg transition-shadow",children:(0,l.jsx)(b,{className:"p-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"lg:col-span-2",children:[(0,l.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)(S,{variant:"quick"===e.type?"default":"secondary",className:"quick"===e.type?"bg-psychology-primary text-white":"bg-psychology-secondary text-white",children:"quick"===e.type?"快测版":"完整版"}),e.completed?(0,l.jsx)(S,{variant:"outline",className:"text-psychology-success border-psychology-success",children:"已完成"}):(0,l.jsx)(S,{variant:"outline",className:"text-psychology-warning border-psychology-warning",children:"未完成"})]}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:e.startTime.toLocaleString("zh-CN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}),r&&(0,l.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["用时：",r," 分钟"]})]})}),(0,l.jsxs)("div",{className:"text-sm text-muted-foreground space-y-1",children:[(0,l.jsxs)("p",{children:["年龄：",e.demographics.age]}),(0,l.jsxs)("p",{children:["性别：",e.demographics.gender]}),(0,l.jsxs)("p",{children:["关系状态：",e.demographics.relationshipStatus]})]})]}),(0,l.jsx)("div",{className:"lg:col-span-1",children:e.results&&t?(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("div",{className:"text-3xl font-bold text-psychology-primary mb-1",children:e.results.sri.totalScore}),(0,l.jsx)("div",{className:"text-xs text-muted-foreground",children:"SRI 指数"})]}),(0,l.jsx)(S,{variant:"outline",className:`text-${t.color} border-${t.color}`,children:t.label}),(0,l.jsx)("div",{className:"mt-3",children:(0,l.jsx)(J,{value:e.results.sri.totalScore,className:"h-2"})})]}):(0,l.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,l.jsx)(eD.A,{className:"w-8 h-8 mx-auto mb-2"}),(0,l.jsx)("p",{className:"text-sm",children:"测评未完成"})]})}),(0,l.jsx)("div",{className:"lg:col-span-1",children:(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[e.completed&&e.results?(0,l.jsx)(_,{asChild:!0,size:"sm",className:"flex items-center gap-2",children:(0,l.jsxs)(g.N_,{to:`/results?sessionId=${e.id}`,children:[(0,l.jsx)(ev.A,{className:"w-4 h-4"}),"查看结果"]})}):(0,l.jsx)(_,{asChild:!0,size:"sm",variant:"outline",className:"flex items-center gap-2",children:(0,l.jsxs)(g.N_,{to:`/assessment?type=${e.type}`,children:[(0,l.jsx)(eP.A,{className:"w-4 h-4"}),"继续测评"]})}),(0,l.jsxs)(sk,{children:[(0,l.jsx)(sS,{asChild:!0,children:(0,l.jsxs)(_,{size:"sm",variant:"ghost",className:"flex items-center gap-2 text-destructive hover:text-destructive",children:[(0,l.jsx)(sD.A,{className:"w-4 h-4"}),"删除"]})}),(0,l.jsxs)(sA,{children:[(0,l.jsxs)(sC,{children:[(0,l.jsx)(sR,{children:"确认删除记录"}),(0,l.jsx)(s$,{children:"确定要删除这条测评记录吗？此操作无法撤销。"})]}),(0,l.jsxs)(sI,{children:[(0,l.jsx)(sz,{children:"取消"}),(0,l.jsx)(sE,{onClick:()=>(e=>{try{let t;(t=ex()).sessions=t.sessions.filter(s=>s.id!==e),eh(t),s(s=>s.filter(s=>s.id!==e))}catch(e){console.error("删除记录失败:",e)}})(e.id),children:"确认删除"})]})]})]})]})})]})})},e.id)})]})]})})]})}function sF(){return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50 relative overflow-hidden",children:[(0,l.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,l.jsx)("div",{className:"absolute top-32 left-20 w-6 h-6 bg-blue-400 rounded-full opacity-40"}),(0,l.jsx)("div",{className:"absolute top-48 right-32 w-8 h-8 bg-purple-400 rounded-full opacity-30"}),(0,l.jsx)("div",{className:"absolute bottom-40 left-1/4 w-10 h-10 border-3 border-emerald-400 rounded-full opacity-50"}),(0,l.jsx)("div",{className:"absolute bottom-32 right-20 w-12 h-12 border-4 border-blue-400 rounded-full opacity-30"}),(0,l.jsx)("div",{className:"absolute top-1/4 left-16 text-6xl text-gray-300 opacity-20 font-bold",children:"?"}),(0,l.jsx)("div",{className:"absolute top-1/3 right-24 text-4xl text-gray-300 opacity-30 font-bold",children:"?"}),(0,l.jsx)("div",{className:"absolute bottom-1/4 right-1/3 text-5xl text-gray-300 opacity-25 font-bold",children:"?"})]}),(0,l.jsx)("div",{className:"relative z-10 flex flex-col items-center justify-center min-h-screen p-8",children:(0,l.jsxs)("div",{className:"text-center max-w-2xl mx-auto",children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h1",{className:"text-9xl font-bold text-gray-200 leading-none mb-4",children:"404"}),(0,l.jsx)("div",{className:"w-24 h-1 bg-blue-500 mx-auto rounded-full"})]}),(0,l.jsxs)("div",{className:"mb-12",children:[(0,l.jsx)("h2",{className:"text-4xl font-semibold text-gray-900 mb-6 tracking-tight",children:"Page Not Found"}),(0,l.jsx)("p",{className:"text-xl text-gray-600 leading-relaxed max-w-lg mx-auto",children:"The page you're looking for doesn't exist. It might have been moved, deleted, or you entered the wrong URL."})]}),(0,l.jsx)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12",children:(0,l.jsx)(_,{size:"lg",asChild:!0,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 text-lg font-medium rounded-full shadow-lg hover:shadow-xl transition-all duration-300",children:(0,l.jsxs)(g.N_,{to:"/",className:"flex items-center gap-2",children:[(0,l.jsx)(P.A,{className:"w-5 h-5"}),"Back to Home"]})})})]})})]})}let sL=new u.E;(0,a.createRoot)(document.getElementById("root")).render((0,l.jsx)(r.StrictMode,{children:(0,l.jsx)(()=>(0,l.jsx)(p.Ht,{client:sL,children:(0,l.jsxs)(h,{children:[(0,l.jsx)(c,{richColors:!0}),(0,l.jsx)(g.Kd,{children:(0,l.jsxs)(g.BV,{children:[(0,l.jsx)(g.qh,{path:"/",element:(0,l.jsx)(L,{})}),(0,l.jsx)(g.qh,{path:"/assessment",element:(0,l.jsx)(eL,{})}),(0,l.jsx)(g.qh,{path:"/results",element:(0,l.jsx)(sj,{})}),(0,l.jsx)(g.qh,{path:"/guide",element:(0,l.jsx)(sf,{})}),(0,l.jsx)(g.qh,{path:"/science",element:(0,l.jsx)(sw,{})}),(0,l.jsx)(g.qh,{path:"/history",element:(0,l.jsx)(sM,{})}),(0,l.jsx)(g.qh,{path:"*",element:(0,l.jsx)(sF,{})})]})})]})}),{})}))}},n={};function c(e){var s=n[e];if(void 0!==s)return s.exports;var t=n[e]={exports:{}};return i[e](t,t.exports,c),t.exports}c.m=i,s=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(t,l){if(1&l&&(t=this(t)),8&l||"object"==typeof t&&t&&(4&l&&t.__esModule||16&l&&"function"==typeof t.then))return t;var r=Object.create(null);c.r(r);var a={};e=e||[null,s({}),s([]),s(s)];for(var i=2&l&&t;"object"==typeof i&&!~e.indexOf(i);i=s(i))Object.getOwnPropertyNames(i).forEach(e=>{a[e]=()=>t[e]});return a.default=()=>t,c.d(r,a),r},c.d=(e,s)=>{for(var t in s)c.o(s,t)&&!c.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})},c.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.nc=void 0,t=[],c.O=(e,s,l,r)=>{if(s){r=r||0;for(var a=t.length;a>0&&t[a-1][2]>r;a--)t[a]=t[a-1];t[a]=[s,l,r];return}for(var i=1/0,a=0;a<t.length;a++){for(var[s,l,r]=t[a],n=!0,o=0;o<s.length;o++)(!1&r||i>=r)&&Object.keys(c.O).every(e=>c.O[e](s[o]))?s.splice(o--,1):(n=!1,r<i&&(i=r));if(n){t.splice(a--,1);var d=l();void 0!==d&&(e=d)}}return e},l={410:0},c.O.j=e=>0===l[e],r=(e,s)=>{var t,r,[a,i,n]=s,o=0;if(a.some(e=>0!==l[e])){for(t in i)c.o(i,t)&&(c.m[t]=i[t]);if(n)var d=n(c)}for(e&&e(s);o<a.length;o++)r=a[o],c.o(l,r)&&l[r]&&l[r][0](),l[r]=0;return c.O(d)},(a=self.webpackChunkreact_rspack_fullstack=self.webpackChunkreact_rspack_fullstack||[]).forEach(r.bind(null,0)),a.push=r.bind(null,a.push.bind(a));var o=c.O(void 0,["783","535","428"],function(){return c(6285)});o=c.O(o)})();